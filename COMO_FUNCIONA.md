# ğŸ“– CÃ³mo Funciona el Sistema - GuÃ­a Visual

## ğŸ—‚ï¸ Â¿Desde DÃ³nde Sincroniza Cada Cosa?

### 1. Vacaciones (æœ‰çµ¦ä¼‘æš‡)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æœ‰çµ¦ä¼‘æš‡ç®¡ç†.xlsm                    â”‚
â”‚  (Archivo principal de vacaciones)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”‚ Click "è‡ªå‹•åŒæœŸ"
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Base de Datos: employees            â”‚
â”‚  Registros: ~1691                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**UbicaciÃ³n**: `D:\YuKyuDATA-app\æœ‰çµ¦ä¼‘æš‡ç®¡ç†.xlsm`
**Hoja**: Primera hoja del archivo (cualquiera que tenga "æ°å" o "åå‰")

---

### 2. Empleados Dispatch - Genzai (æ´¾é£ç¤¾å“¡)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ã€æ–°ã€‘ç¤¾å“¡å°å¸³(UNS)T 2022.04.05ï½.xlsm â”‚
â”‚  â†’ Hoja: DBGenzaiX                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”‚ Click "ğŸ¢ æ´¾é£ç¤¾å“¡ (DBGenzaiX)"
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Base de Datos: genzai               â”‚
â”‚  Registros: ~1067                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**UbicaciÃ³n**: `D:\YuKyuDATA-app\ã€æ–°ã€‘ç¤¾å“¡å°å¸³(UNS)Tã€€2022.04.05ï½.xlsm`
**Hoja**: `DBGenzaiX` (nombre exacto)

---

### 3. Empleados Contratados - Ukeoi (è«‹è² ç¤¾å“¡)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ã€æ–°ã€‘ç¤¾å“¡å°å¸³(UNS)T 2022.04.05ï½.xlsm â”‚
â”‚  â†’ Hoja: DBUkeoiX                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”‚ Click "ğŸ“‹ è«‹è² ç¤¾å“¡ (DBUkeoiX)"
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Base de Datos: ukeoi                â”‚
â”‚  Registros: ~141                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**UbicaciÃ³n**: `D:\YuKyuDATA-app\ã€æ–°ã€‘ç¤¾å“¡å°å¸³(UNS)Tã€€2022.04.05ï½.xlsm`
**Hoja**: `DBUkeoiX` (nombre exacto)

---

## ğŸ“… CÃ³mo Cambiar de AÃ±o (Filtro de AÃ±os)

El filtro de aÃ±os **aparece automÃ¡ticamente** despuÃ©s de sincronizar datos de vacaciones.

### Paso a Paso:

#### 1. Sincronizar Datos
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Click "è‡ªå‹•åŒæœŸ"     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 2. Esperar a que cargue
VerÃ¡s un spinner: "è‡ªå‹•åŒæœŸä¸­..."

#### 3. El filtro aparece
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“… å¹´åº¦ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼                â”‚
â”‚                                  â”‚
â”‚ [2024å¹´åº¦] [2025å¹´åº¦] [å…¨è¡¨ç¤º]   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

Si **NO aparece**, significa que:
- âŒ No hay datos sincronizados
- âŒ Todos los datos son del mismo aÃ±o
- âŒ El aÃ±o no estÃ¡ en el Excel

#### 4. Hacer Click en un AÃ±o
```
Click en: [2025å¹´åº¦]
         â†“
Dashboard filtra solo datos de 2025
Tabla muestra solo empleados de 2025
```

#### 5. Ver Todos los AÃ±os
```
Click en: [å…¨è¡¨ç¤º]
         â†“
Se muestran TODOS los aÃ±os juntos
```

---

## ğŸ“Š Sobre los 552 DÃ­as

### Â¿Es un error?

**NO es un error**. Los 552 dÃ­as es la **SUMA TOTAL** de todos los empleados.

### Ejemplo:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”
â”‚ Empleado           â”‚ ä»˜ä¸ â”‚ ä½¿ç”¨ â”‚ æ®‹   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤
â”‚ ç”°ä¸­ å¤ªéƒ           â”‚  20  â”‚   5  â”‚  15  â”‚
â”‚ ä½è—¤ èŠ±å­           â”‚  20  â”‚  10  â”‚  10  â”‚
â”‚ éˆ´æœ¨ ä¸€éƒ           â”‚  20  â”‚   7  â”‚  13  â”‚
â”‚ ... (86 mÃ¡s)       â”‚ ...  â”‚ ...  â”‚ ...  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤
â”‚ TOTAL (89 emps)    â”‚ 1780 â”‚ 552  â”‚ 1228 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜
```

### En el Dashboard verÃ¡s:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“… 2025å¹´ ä½¿ç”¨æ—¥æ•°            â”‚
â”‚                               â”‚
â”‚     552 æ—¥                    â”‚
â”‚     â†— ãƒ‡ãƒ¼ã‚¿ã‚’è“„ç©ä¸­          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

Esto significa:
- âœ… Entre **TODOS** los 89 empleados
- âœ… En el aÃ±o 2025
- âœ… Se han usado **552 dÃ­as** en total
- âœ… Promedio: ~6.2 dÃ­as por empleado

---

## ğŸ¯ Dashboard Completo Explicado

### SecciÃ³n Superior (KPI Cards)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2025å¹´         â”‚ æœ‰çµ¦ä¿æœ‰å¾“æ¥­å“¡ â”‚ å¹³å‡ä½¿ç”¨æ—¥æ•°   â”‚ æ®‹æ—¥æ•°åˆè¨ˆ     â”‚
â”‚ ä½¿ç”¨æ—¥æ•°       â”‚                 â”‚                 â”‚                â”‚
â”‚                â”‚                 â”‚                 â”‚                â”‚
â”‚ 552 æ—¥         â”‚ 89 å           â”‚ 6.2 æ—¥/äºº      â”‚ 1228 æ—¥        â”‚
â”‚ â†— è“„ç©ä¸­       â”‚ å…¨: 89å        â”‚ â†— Active       â”‚ æ¶ˆåŒ–ç‡: 31%    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**InterpretaciÃ³n:**
- **552 dÃ­as** = Total usado por TODOS (no es un empleado)
- **89 empleados** = Tienen vacaciones asignadas
- **6.2 dÃ­as/persona** = Promedio (552 Ã· 89)
- **1228 dÃ­as** = Total que les queda a todos

---

## ğŸ” CÃ³mo Verificar Datos EspecÃ­ficos

### Ver Datos de UN Empleado EspecÃ­fico

1. DesplÃ¡zate hasta la tabla al final
2. Busca el nombre del empleado
3. Click en la fila â†’ Abre modal con detalles

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç”°ä¸­ å¤ªéƒ                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å¾“æ¥­å“¡ç•ªå·: 123456                 â”‚
â”‚ æ´¾é£å…ˆ: é«˜é›„å·¥æ¥­ æœ¬ç¤¾              â”‚
â”‚ å¯¾è±¡å¹´åº¦: 2025å¹´åº¦                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ç·ä»˜ä¸æ—¥æ•°: 20.0 æ—¥                â”‚
â”‚ ç·ä½¿ç”¨æ—¥æ•°: 5.0 æ—¥                 â”‚
â”‚ æ®‹æ—¥æ•°: 15.0 æ—¥                    â”‚
â”‚ ä½¿ç”¨ç‡: 25%                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ˆ GrÃ¡ficos

### GrÃ¡fico 1: DistribuciÃ³n de Uso

```
Doughnut Chart
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 0-25%:  20 emps â”‚ Rojo
â”‚ 26-50%: 30 emps â”‚ Naranja
â”‚ 51-75%: 25 emps â”‚ Azul
â”‚ 76-100%: 14 empsâ”‚ Verde
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

Muestra cuÃ¡ntos empleados estÃ¡n en cada rango de uso.

### GrÃ¡fico 2: Top 10 Usuarios

```
Bar Chart (Horizontal)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
å±±ç”° å¤ªéƒ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 15 dÃ­as
ä½è—¤ èŠ±å­  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  14 dÃ­as
éˆ´æœ¨ ä¸€éƒ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   12 dÃ­as
...
```

Muestra quiÃ©nes han usado mÃ¡s dÃ­as.

---

## ğŸ”„ Flujo Completo de SincronizaciÃ³n

```
1. Usuario click "è‡ªå‹•åŒæœŸ"
          â†“
2. Frontend envÃ­a POST a /api/sync
          â†“
3. Backend lee æœ‰çµ¦ä¼‘æš‡ç®¡ç†.xlsm
          â†“
4. Parsea datos (SIN filtrar æœ¬ç¤¾)
          â†“
5. Guarda en tabla `employees`
          â†“
6. Retorna count: 1691
          â†“
7. Frontend muestra datos
          â†“
8. Filtro de aÃ±os aparece (si hay mÃºltiples aÃ±os)
```

---

## â“ Preguntas Frecuentes

### Â¿Por quÃ© veo 89 empleados en lugar de 1691?

Porque estÃ¡s filtrando por un aÃ±o especÃ­fico (probablemente 2025).

**SoluciÃ³n**: Click en "å…¨è¡¨ç¤º" para ver todos.

### Â¿CÃ³mo sÃ© quÃ© aÃ±o estoy viendo?

Mira los botones de aÃ±o:
- **Fondo degradado** = AÃ±o activo
- **Fondo normal** = No seleccionado

### Â¿Los 552 dÃ­as son correctos?

SÃ­, es la suma de:
```python
sum(empleado.used for empleado in empleados_2025)
# = 552 dÃ­as totales
```

### Â¿CÃ³mo ver solo empleados de æœ¬ç¤¾?

En la tabla, busca visualmente o usa Ctrl+F en el navegador para buscar "æœ¬ç¤¾".

### Â¿Puedo sincronizar desde otro archivo Excel?

SÃ­, usa el botÃ³n "ğŸ“‚ ãƒ•ã‚¡ã‚¤ãƒ«é¸æŠ" para subir otro archivo.

---

## ğŸ¨ Indicadores Visuales

### Badges de Estado

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â€¢ æ¥ç¶šæ¸ˆã¿ (SQLite)  â”‚ â† Verde = Conectado
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â€¢ æœªæ¥ç¶š             â”‚ â† Rojo = Sin conectar
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Botones de AÃ±o

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚2024å¹´åº¦  â”‚  â”‚2025å¹´åº¦  â”‚  â”‚ å…¨è¡¨ç¤º   â”‚
â”‚ Normal   â”‚  â”‚ ACTIVO   â”‚  â”‚ Reset    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â†‘
            Fondo degradado
```

### Contadores

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ãƒ‡ãƒ¼ã‚¿ä»¶æ•°   â”‚
â”‚     89       â”‚ â† NÃºmero de registros filtrados
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ´¾é£ç¤¾å“¡æ•°   â”‚
â”‚     1067     â”‚ â† Genzai sincronizados
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸš¨ SoluciÃ³n de Problemas

### Problema: No aparece el filtro de aÃ±os

**Causas posibles:**
1. âœ… Solo hay datos de un aÃ±o
2. âŒ No hay datos sincronizados
3. âŒ La columna "å¹´åº¦" no existe en el Excel

**SoluciÃ³n:**
```bash
# Verificar quÃ© aÃ±os hay
python -c "
import sqlite3
conn = sqlite3.connect('yukyu.db')
years = conn.execute('SELECT DISTINCT year FROM employees').fetchall()
print('AÃ±os disponibles:', [y[0] for y in years])
conn.close()
"
```

### Problema: Los contadores muestran 0

**Causa**: No se ha sincronizado

**SoluciÃ³n**:
1. Click en "è‡ªå‹•åŒæœŸ" para vacaciones
2. Click en "ğŸ¢ æ´¾é£ç¤¾å“¡" para Genzai
3. Click en "ğŸ“‹ è«‹è² ç¤¾å“¡" para Ukeoi

### Problema: Veo datos viejos

**Causa**: CachÃ© del navegador

**SoluciÃ³n**:
```
Presiona: Ctrl + F5
(Recarga forzada)
```

---

Â¿Necesitas mÃ¡s aclaraciones sobre alguna parte especÃ­fica? ğŸš€

/* NEXUS - LAYOUT & GRID (Refactored for SaaS Shell) */

.app-container {
    display: grid;
    grid-template-columns: 260px 1fr;
    /* Fixed Sidebar + Fluid Content */
    grid-template-rows: auto 1fr;
    grid-template-areas:
        "sidebar header"
        "sidebar content";
    min-height: 100vh;
    background-color: var(--bg-base);
}

/* --- SIDEBAR --- */
.sidebar {
    grid-area: sidebar;
    background: var(--bg-surface);
    /* Solid White/Dark surface */
    border-right: 1px solid var(--border-subtle);
    padding: var(--space-lg);
    display: flex;
    flex-direction: column;
    z-index: 50;
    position: sticky;
    top: 0;
    height: 100vh;
    overflow-y: auto;
}

/* --- MAIN CONTENT --- */
.main-content {
    grid-area: content;
    padding: var(--space-xl);
    width: 100%;
    max-width: 1400px;
    /* Constrain max width for readability */
    margin: 0 auto;
    /* Center content on ultra-wide screens */
}

/* --- HEADER FIX --- */
header.page-header {
    grid-area: header;
    position: sticky;
    top: 0;
    z-index: 40;
    background: rgba(250, 245, 255, 0.85);
    /* Blurred background matches theme */
    backdrop-filter: blur(12px);
    border-bottom: 1px solid var(--border-subtle);
    padding: var(--space-md) var(--space-xl);
    margin: 0 !important;
    /* Reset margins */
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.page-header {
    margin-bottom: var(--space-2xl);
    animation: fadeDown 0.6s var(--ease-smooth);
}

/* --- BENTO GRID SYSTEM --- */
.bento-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: var(--space-lg);
    margin-bottom: var(--space-lg);
}

.col-span-1 {
    grid-column: span 1;
}

.col-span-2 {
    grid-column: span 2;
}

.col-span-3 {
    grid-column: span 3;
}

.col-span-4 {
    grid-column: span 4;
}

/* Responsive Grid */
@media (max-width: 1200px) {
    .bento-grid {
        grid-template-columns: repeat(2, 1fr);
    }

    .col-span-1,
    .col-span-2,
    .col-span-3 {
        grid-column: span 1;
    }

    /* Fallback logic needs care */
    .col-span-2 {
        grid-column: span 2;
    }

    /* Keep 2-col span on tablets */
}

@media (max-width: 768px) {
    .sidebar {
        transform: translateX(-100%);
        width: 100%;
        z-index: 2000;
    }

    .sidebar.open {
        transform: translateX(0);
    }

    .main-content {
        margin-left: 0;
        padding: var(--space-md);
    }

    .bento-grid {
        grid-template-columns: 1fr;
    }

    .col-span-1,
    .col-span-2,
    .col-span-3,
    .col-span-4 {
        grid-column: span 1;
    }
}

/* --- UTILITIES --- */
.flex-between {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.flex-center {
    display: flex;
    justify-content: center;
    align-items: center;
}

.gap-sm {
    gap: var(--space-sm);
}

.gap-md {
    gap: var(--space-md);
}

.mb-lg {
    margin-bottom: var(--space-lg);
}


.d-none {
    display: none !important;
}

.overflow-auto {
    overflow: auto;
}


.w-full {
    width: 100%;
}

.overflow-y-auto {
    overflow-y: auto;
}

.max-h-60vh {
    max-height: 60vh;
}

.max-h-300 {
    max-height: 300px;
}
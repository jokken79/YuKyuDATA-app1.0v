<!DOCTYPE html>
<html lang="ja" data-theme="dark">

<head>
    <meta charset="UTF-8">
    <!-- WCAG 1.4.4: Allow user zoom for accessibility -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>YuKyu Premium Dashboard</title>

    <!-- PWA Meta Tags -->
    <meta name="description" content="ÊúâÁµ¶‰ºëÊöáÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É† - Premium Dashboard for managing paid leave">
    <meta name="theme-color" content="#06b6d4">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="YuKyu">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="application-name" content="YuKyu Premium">
    <meta name="msapplication-TileColor" content="#000000">
    <meta name="msapplication-tap-highlight" content="no">
    <meta name="format-detection" content="telephone=no">

    <!-- PWA Manifest -->
    <link rel="manifest" href="/static/manifest.json">

    <!-- Icons -->
    <link rel="icon" type="image/svg+xml" href="/static/icons/icon.svg">
    <link rel="apple-touch-icon" href="/static/icons/icon.svg">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <!-- CDN preconnect for lazy-loaded libraries -->
    <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
    <link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;500;600;700&family=Fira+Sans:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">

    <!-- YuKyu Unified Design System (Single Source of Truth) -->
    <link rel="stylesheet" href="/static/css/unified-design-system.css">

    <!-- Legacy Design Tokens - COMMENTED OUT: Conflicts with unified-design-system.css -->
    <!-- Violet (#7C3AED) vs Cyan (#06b6d4) color conflict resolved -->
    <!-- <link rel="stylesheet" href="/static/css/yukyu-tokens.css"> -->

    <!-- NEXUS THEME - Hyper Modern Glass UI -->
    <link rel="stylesheet" href="/static/css/nexus-theme/main.css">

    <!-- Libraries -->
    <!-- ApexCharts - Modern charting library -->
    <script src="https://cdn.jsdelivr.net/npm/apexcharts@3.45.1/dist/apexcharts.min.js"></script>

    <!-- Chart.js - For pie and bar charts -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>

    <!-- GSAP and Animate.css: Loaded on-demand via animation-loader.js module -->
    <!-- This improves Time to Interactive by ~200ms on initial load -->
    <!-- See: static/js/modules/animation-loader.js -->

    <!-- Flatpickr - Modern Date Picker -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr@4.6.13/dist/flatpickr.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr@4.6.13/dist/themes/dark.css">

    <style>
        /* Custom Flatpickr Styles - Cyan/Glass Theme - PURE BLACK */
        .flatpickr-calendar {
            background: rgba(5, 5, 5, 0.98) !important;
            backdrop-filter: blur(20px) saturate(180%) !important;
            border: 1px solid rgba(6, 182, 212, 0.3) !important;
            border-radius: 16px !important;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.7),
                0 0 0 1px rgba(6, 182, 212, 0.1),
                inset 0 1px 0 rgba(255, 255, 255, 0.05) !important;
        }

        .flatpickr-months {
            background: transparent !important;
            border-bottom: 1px solid rgba(6, 182, 212, 0.2) !important;
            padding: 10px 0 !important;
        }

        .flatpickr-current-month {
            color: #06b6d4 !important;
            font-weight: 600 !important;
        }

        .flatpickr-months .flatpickr-prev-month,
        .flatpickr-months .flatpickr-next-month {
            fill: #06b6d4 !important;
            transition: all 0.2s ease !important;
        }

        .flatpickr-months .flatpickr-prev-month:hover,
        .flatpickr-months .flatpickr-next-month:hover {
            fill: #22d3ee !important;
            transform: scale(1.1) !important;
        }

        .flatpickr-weekday {
            color: #94a3b8 !important;
            font-weight: 500 !important;
            font-size: 0.85rem !important;
        }

        .flatpickr-day {
            color: #e2e8f0 !important;
            border-radius: 8px !important;
            transition: all 0.2s ease !important;
            border: none !important;
        }

        .flatpickr-day:hover {
            background: rgba(6, 182, 212, 0.2) !important;
            border-color: transparent !important;
            transform: scale(1.05) !important;
        }

        .flatpickr-day.selected,
        .flatpickr-day.startRange,
        .flatpickr-day.endRange {
            background: linear-gradient(135deg, #06b6d4, #0891b2) !important;
            border-color: #06b6d4 !important;
            color: #ffffff !important;
            font-weight: 600 !important;
            box-shadow: 0 4px 12px rgba(6, 182, 212, 0.4) !important;
        }

        .flatpickr-day.inRange {
            background: rgba(6, 182, 212, 0.15) !important;
            border-color: transparent !important;
            box-shadow: none !important;
        }

        .flatpickr-day.today {
            border: 2px solid #f472b6 !important;
            color: #f472b6 !important;
            font-weight: 600 !important;
        }

        .flatpickr-day.today:hover {
            border-color: #f472b6 !important;
            background: rgba(244, 114, 182, 0.2) !important;
        }

        .flatpickr-day.disabled,
        .flatpickr-day.prevMonthDay,
        .flatpickr-day.nextMonthDay {
            color: #475569 !important;
        }

        .flatpickr-day.disabled:hover,
        .flatpickr-day.prevMonthDay:hover,
        .flatpickr-day.nextMonthDay:hover {
            background: transparent !important;
            cursor: not-allowed !important;
            transform: none !important;
        }

        .numInputWrapper:hover {
            background: rgba(6, 182, 212, 0.1) !important;
        }

        .flatpickr-monthDropdown-months,
        .numInput {
            background: rgba(5, 5, 5, 0.9) !important;
            color: #06b6d4 !important;
            border: 1px solid rgba(6, 182, 212, 0.3) !important;
            border-radius: 6px !important;
        }

        .flatpickr-monthDropdown-months:hover,
        .numInput:hover {
            background: rgba(6, 182, 212, 0.15) !important;
        }

        .flatpickr-time {
            border-top: 1px solid rgba(6, 182, 212, 0.2) !important;
        }

        .flatpickr-time input {
            color: #06b6d4 !important;
        }

        .flatpickr-time input:hover,
        .flatpickr-time input:focus {
            background: rgba(6, 182, 212, 0.1) !important;
        }

        /* Glass effect enhancement */
        .flatpickr-calendar::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg,
                    rgba(6, 182, 212, 0.05) 0%,
                    rgba(8, 145, 178, 0.03) 100%);
            border-radius: 16px;
            pointer-events: none;
        }

        /* Animation for calendar opening */
        .flatpickr-calendar.open {
            animation: flatpickrFadeIn 0.2s ease-out;
        }

        @keyframes flatpickrFadeIn {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
    </style>

    <!-- Modern UI Enhancements 2025 -->
    <script src="/static/js/modern-ui.js" defer></script>
    <script src="/static/js/modern-integration.js" defer></script>

    <!-- Authentication System -->
    <link rel="stylesheet" href="/static/css/login-modal.css">
    <script type="module" src="/static/js/utils/auth-manager.js"></script>
    <script type="module" src="/static/js/components/login-modal.js"></script>

    <!-- UI/UX Critical Fixes 2026 - Load LAST to override conflicts -->
    <link rel="stylesheet" href="/static/css/ui-ux-fixes-2026.css">
</head>

<body>
    <!-- Skip Navigation for Accessibility -->
    <a href="#main-content" class="skip-link">„É°„Ç§„É≥„Ç≥„É≥„ÉÜ„É≥„ÉÑ„Å∏ÁßªÂãï</a>

    <div class="app-container">
        <!-- Mobile Menu Toggle -->
        <button class="mobile-menu-toggle" id="mobile-menu-toggle" aria-label="Toggle navigation menu"
            aria-expanded="false">
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
        </button>

        <!-- Mobile Sidebar Overlay -->
        <div class="sidebar-overlay" id="sidebar-overlay" aria-hidden="true"></div>

        <!-- Sidebar Navigation - Premium Design -->
        <nav class="sidebar" id="sidebar">
            <div class="logo">
                <img src="/static/icons/logo-premium.svg" alt="YuKyu - Employee Vacation Management System" width="48"
                    height="48">
                <div>
                    <div>YUKYU</div>
                    <div>DATA</div>
                </div>
            </div>

            <div class="nav-section">
                <!-- Main Navigation Group -->
                <div class="nav-group">
                    <div class="nav-group-label">Main</div>

                    <button class="nav-item active" data-view="dashboard" data-action="ui.switchView"
                        data-view="dashboard" aria-label="Dashboard" aria-current="page" type="button">
                        <span class="nav-icon" aria-hidden="true">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                stroke-linecap="round" stroke-linejoin="round">
                                <rect x="3" y="3" width="7" height="7" rx="1" />
                                <rect x="14" y="3" width="7" height="7" rx="1" />
                                <rect x="3" y="14" width="7" height="7" rx="1" />
                                <rect x="14" y="14" width="7" height="7" rx="1" />
                            </svg>
                        </span>
                        <span class="nav-text">Dashboard</span>
                    </button>

                    <button class="nav-item" data-view="employees" data-action="ui.switchView" data-view="employees"
                        aria-label="Employees" type="button">
                        <span class="nav-icon" aria-hidden="true">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                stroke-linecap="round" stroke-linejoin="round">
                                <circle cx="9" cy="7" r="4" />
                                <path d="M3 21v-2a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v2" />
                                <circle cx="17" cy="7" r="3" />
                                <path d="M21 21v-2a3 3 0 0 0-2-2.83" />
                            </svg>
                        </span>
                        <span class="nav-text">Employees</span>
                        <span class="nav-badge" id="emp-count-badge-sidebar" aria-label="Total employees">0</span>
                    </button>

                    <button class="nav-item" data-view="factories" data-action="ui.switchView" data-view="factories"
                        aria-label="Factories" type="button">
                        <span class="nav-icon" aria-hidden="true">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                stroke-linecap="round" stroke-linejoin="round">
                                <path d="M2 20V8l6-4v4l6-4v4l6-4v16H2z" />
                                <path d="M6 12v4" />
                                <path d="M10 12v4" />
                                <path d="M14 12v4" />
                                <path d="M18 12v4" />
                            </svg>
                        </span>
                        <span class="nav-text">Factories</span>
                    </button>
                </div>

                <!-- Requests Group -->
                <div class="nav-group">
                    <div class="nav-group-label">Requests</div>

                    <button class="nav-item" data-view="requests" data-action="ui.switchView" data-view="requests"
                        aria-label="Request Leave" type="button">
                        <span class="nav-icon" aria-hidden="true">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                stroke-linecap="round" stroke-linejoin="round">
                                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" />
                                <polyline points="14 2 14 8 20 8" />
                                <line x1="16" y1="13" x2="8" y2="13" />
                                <line x1="16" y1="17" x2="8" y2="17" />
                                <line x1="10" y1="9" x2="8" y2="9" />
                            </svg>
                        </span>
                        <span class="nav-text">Áî≥Ë´ã Request</span>
                    </button>

                    <button class="nav-item" data-view="calendar" data-action="ui.switchView" data-view="calendar"
                        aria-label="Calendar" type="button">
                        <span class="nav-icon" aria-hidden="true">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                stroke-linecap="round" stroke-linejoin="round">
                                <rect x="3" y="4" width="18" height="18" rx="2" ry="2" />
                                <line x1="16" y1="2" x2="16" y2="6" />
                                <line x1="8" y1="2" x2="8" y2="6" />
                                <line x1="3" y1="10" x2="21" y2="10" />
                                <path d="M8 14h.01" />
                                <path d="M12 14h.01" />
                                <path d="M16 14h.01" />
                                <path d="M8 18h.01" />
                                <path d="M12 18h.01" />
                            </svg>
                        </span>
                        <span class="nav-text">„Ç´„É¨„É≥„ÉÄ„Éº</span>
                    </button>
                </div>

                <!-- Analytics Group -->
                <div class="nav-group">
                    <div class="nav-group-label">Analytics</div>

                    <button class="nav-item" data-view="compliance" data-action="ui.switchView" data-view="compliance"
                        aria-label="Compliance" type="button">
                        <span class="nav-icon" aria-hidden="true">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                stroke-linecap="round" stroke-linejoin="round">
                                <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z" />
                                <polyline points="9 12 11 14 15 10" />
                            </svg>
                        </span>
                        <span class="nav-text">Compliance</span>
                    </button>

                    <button class="nav-item" data-view="analytics" data-action="ui.switchView" data-view="analytics"
                        aria-label="Analytics" type="button">
                        <span class="nav-icon" aria-hidden="true">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                stroke-linecap="round" stroke-linejoin="round">
                                <line x1="18" y1="20" x2="18" y2="10" />
                                <line x1="12" y1="20" x2="12" y2="4" />
                                <line x1="6" y1="20" x2="6" y2="14" />
                            </svg>
                        </span>
                        <span class="nav-text">ÂàÜÊûê Analytics</span>
                    </button>

                    <button class="nav-item" data-view="reports" data-action="ui.switchView" data-view="reports"
                        aria-label="Monthly Reports" type="button">
                        <span class="nav-icon" aria-hidden="true">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                stroke-linecap="round" stroke-linejoin="round">
                                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" />
                                <polyline points="14 2 14 8 20 8" />
                                <line x1="12" y1="18" x2="12" y2="12" />
                                <line x1="9" y1="15" x2="15" y2="15" />
                            </svg>
                        </span>
                        <span class="nav-text">ÊúàÊ¨°„É¨„Éù„Éº„Éà</span>
                    </button>
                </div>
            </div>

            <!-- Settings at bottom -->
            <div class="sidebar-footer">
                <button class="nav-item nav-item-settings" data-view="settings" data-action="ui.switchView"
                    data-view="settings" aria-label="Settings" type="button">
                    <span class="nav-icon" aria-hidden="true">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                            stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="12" cy="12" r="3" />
                            <path
                                d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z" />
                        </svg>
                    </span>
                    <span class="nav-text">Settings</span>
                </button>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="main-content" id="main-content">

            <!-- Header -->
            <header class="flex-between mb-lg page-header">
                <div class="page-title-block">
                    <h1 class="text-gradient title-2xl" id="page-title">Dashboard Overview</h1>
                    <p class="text-muted" id="page-subtitle">Real-time vacation data analytics</p>
                </div>

                <div class="header-actions">
                    <div class="header-actions__group header-actions__group--years">
                        <span class="header-label">A√±o</span>
                        <select id="year-selector" class="input-glass year-dropdown"></select>
                    </div>

                    <div class="header-actions__group" id="header-controls">
                        <!-- Language Selector -->
                        <!-- Language Selector (Removed: Japanese Only) -->
                        <div class="language-indicator"
                            style="display: flex; align-items: center; gap: 8px; color: var(--text-secondary); font-size: 0.9rem;">
                            <span class="language-flag">JP</span>
                            <span class="language-text">Êó•Êú¨Ë™û</span>
                        </div>

                        <!-- Theme Toggle -->
                        <button class="theme-toggle" data-action="theme.toggle" title="„ÉÜ„Éº„ÉûÂàáÊõø" aria-label="Toggle theme"
                            type="button">
                            <div class="theme-toggle-track">
                                <div class="theme-toggle-thumb">
                                    <span id="theme-icon">üåô</span>
                                </div>
                            </div>
                            <span class="theme-toggle-label" id="theme-label">Dark</span>
                        </button>

                        <!-- Auth Controls -->
                        <button class="btn btn-glass" id="btn-login" data-action="auth.showLogin" aria-label="Login">
                            <span class="btn-icon">üîí</span>
                            <span class="btn-text">Login</span>
                        </button>
                        <button class="btn btn-glass d-none" id="btn-logout" data-action="auth.logout"
                            aria-label="Logout">
                            <span class="btn-icon">üîì</span>
                            <span class="btn-text">Logout</span>
                        </button>

                        <button class="btn btn-primary" id="btn-sync-main" data-action="data.sync"
                            aria-label="Sync vacation data" type="button"
                            data-tooltip="ÊúâÁµ¶„Éá„Éº„Çø„ÇíExcel„Åã„ÇâÂêåÊúü / Sincronizar datos de vacaciones" data-loading="ÂêåÊúü‰∏≠...">
                            <span class="btn-icon" aria-hidden="true">‚ö°</span>
                            <span class="btn-text">Sync</span>
                            <span class="btn-spinner d-none"></span>
                        </button>
                        <button class="btn btn-glass" id="btn-sync-genzai" data-action="data.syncGenzai"
                            aria-label="Sync dispatch employees" type="button"
                            data-tooltip="Ê¥æÈÅ£Á§æÂì°„Éá„Éº„Çø„ÇíÂêåÊúü / Sincronizar empleados dispatch" data-loading="ÂêåÊúü‰∏≠...">
                            <span class="btn-icon" aria-hidden="true">üè¢</span>
                            <span class="btn-text d-md-inline d-none">Genzai</span>
                            <span class="btn-spinner d-none"></span>
                        </button>
                        <button class="btn btn-glass" id="btn-sync-ukeoi" data-action="data.syncUkeoi"
                            aria-label="Sync contract employees" type="button"
                            data-tooltip="Ë´ãË≤†Á§æÂì°„Éá„Éº„Çø„ÇíÂêåÊúü / Sincronizar empleados contrato" data-loading="ÂêåÊúü‰∏≠...">
                            <span class="btn-icon" aria-hidden="true">üîß</span>
                            <span class="btn-text d-md-inline d-none">Ukeoi</span>
                            <span class="btn-spinner d-none"></span>
                        </button>
                        <button class="btn btn-glass" id="btn-export-pdf" data-action="reports.showExportModal"
                            title="Export PDF Reports" aria-label="Export PDF reports" type="button">
                            <span class="btn-icon" aria-hidden="true">üìÑ</span>
                            <span class="btn-text">PDF</span>
                        </button>
                    </div>
                </div>
            </header>

            <!-- VIEW: DASHBOARD -->
            <div id="view-dashboard" class="view-section active">

                <!-- Bento Grid Stats with Progress Rings -->
                <div class="bento-grid stagger-children" role="region" aria-label="Statistics Overview">
                    <!-- Usage Ring -->
                    <div class="glass-panel stat-card stat-card-ring col-span-1 glow-hover">
                        <div class="progress-ring-container">
                            <svg class="progress-ring" width="80" height="80">
                                <circle class="progress-ring__circle-bg" cx="40" cy="40" r="34"></circle>
                                <circle class="progress-ring__circle progress-ring__circle--success" id="ring-usage"
                                    role="img" aria-label="Usage progress" cx="40" cy="40" r="34"
                                    stroke-dasharray="213.6" stroke-dashoffset="213.6"></circle>
                            </svg>
                            <div class="progress-ring__value" id="ring-usage-value">0</div>
                        </div>
                        <div class="stat-label">Total Usage</div>
                        <div class="text-xs text-muted" id="kpi-used-detail">0 days
                        </div>
                    </div>

                    <!-- Balance Ring -->
                    <div class="glass-panel stat-card stat-card-ring col-span-1 glow-hover">
                        <div class="progress-ring-container">
                            <svg class="progress-ring" width="80" height="80">
                                <circle class="progress-ring__circle-bg" cx="40" cy="40" r="34"></circle>
                                <circle class="progress-ring__circle progress-ring__circle--warning" id="ring-balance"
                                    role="img" aria-label="Balance progress" cx="40" cy="40" r="34"
                                    stroke-dasharray="213.6" stroke-dashoffset="213.6"></circle>
                            </svg>
                            <div class="progress-ring__value" id="ring-balance-value">0</div>
                        </div>
                        <div class="stat-label">Remaining</div>
                        <div class="text-xs text-muted" id="kpi-balance-detail">0
                            days left</div>
                    </div>

                    <!-- Utilization Ring -->
                    <div class="glass-panel stat-card stat-card-ring col-span-1 glow-hover">
                        <div class="progress-ring-container">
                            <svg class="progress-ring" width="80" height="80">
                                <circle class="progress-ring__circle-bg" cx="40" cy="40" r="34"></circle>
                                <circle class="progress-ring__circle progress-ring__circle--primary" id="ring-rate"
                                    role="img" aria-label="Utilization rate" cx="40" cy="40" r="34"
                                    stroke-dasharray="213.6" stroke-dashoffset="213.6"></circle>
                            </svg>
                            <div class="progress-ring__value" id="ring-rate-value">0%</div>
                        </div>
                        <div class="stat-label">Utilization</div>
                        <div class="text-xs text-muted" id="kpi-rate-detail">avg rate
                        </div>
                    </div>

                    <!-- Employees Card -->
                    <div class="glass-panel stat-card col-span-1" class="kpi-card-highlight" data-action="ui.switchView"
                        data-view="employees">
                        <div class="stat-label">Employees</div>
                        <div class="stat-value count-up" id="kpi-total">-</div>
                        <div class="quick-stats">
                            <div class="quick-stat">
                                <div class="quick-stat-value" id="qs-haken">0</div>
                                <div class="quick-stat-label">Ê¥æÈÅ£</div>
                            </div>
                            <div class="quick-stat">
                                <div class="quick-stat-value" id="qs-ukeoi">0</div>
                                <div class="quick-stat-label">Ë´ãË≤†</div>
                            </div>
                            <div class="quick-stat">
                                <div class="quick-stat-value" id="qs-staff">0</div>
                                <div class="quick-stat-label">Staff</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Compliance Gauge Row -->
                <div class="bento-grid mb-lg">
                    <div class="glass-panel col-span-2 p-md">
                        <h3 class="stat-label mb-lg">üìä Compliance Gauge (5Êó•ÊúÄ‰ΩéÊ∂àÂåñ)</h3>
                        <div class="gauge-container">
                            <svg class="gauge-svg" viewBox="0 0 200 120">
                                <path class="gauge-bg" d="M 20 100 A 80 80 0 0 1 180 100" />
                                <path class="gauge-fill" id="gauge-compliance" d="M 20 100 A 80 80 0 0 1 180 100"
                                    stroke-dasharray="251.2" stroke-dashoffset="251.2" stroke="var(--success)" />
                            </svg>
                            <div class="gauge-value" id="gauge-value">0%</div>
                            <div class="gauge-label">compliance rate</div>
                            <div class="gauge-markers">
                                <span>0%</span>
                                <span>100%</span>
                            </div>
                        </div>
                        <div class="text-center mt-lg text-sm text-muted">
                            <span id="compliance-count">0</span> of <span id="compliance-total">0</span>
                            employees have used ‚â•5 days
                        </div>
                    </div>

                    <!-- Expiring Days Alert -->
                    <div class="glass-panel col-span-2 p-md">
                        <h3 class="stat-label mb-lg">‚ö†Ô∏è Days Expiring Soon</h3>
                        <div id="expiring-alert">
                            <div class="countdown-card d-none" id="countdown-container">
                                <div class="countdown-icon">‚è∞</div>
                                <div class="countdown-info">
                                    <div class="countdown-title">ÊúâÁµ¶‰ºëÊöá„ÅåÂ§±Âäπ‰∫àÂÆö</div>
                                    <div class="countdown-value" id="expiring-days">0 days</div>
                                    <div class="countdown-detail" id="expiring-detail">from 0 employees</div>
                                </div>
                            </div>
                            <div id="no-expiring" class="text-center p-xl text-success">
                                ‚úÖ No days expiring soon!
                            </div>
                        </div>
                        <div class="quick-stats mt-lg">
                            <div class="quick-stat">
                                <div class="quick-stat-value text-danger" id="critical-count">
                                    0</div>
                                <div class="quick-stat-label">Critical (0Êó•)</div>
                            </div>
                            <div class="quick-stat">
                                <div class="quick-stat-value text-warning" id="warning-count">
                                    0</div>
                                <div class="quick-stat-label">Warning (&lt;3Êó•)</div>
                            </div>
                            <div class="quick-stat">
                                <div class="quick-stat-value text-success" id="healthy-count">
                                    0</div>
                                <div class="quick-stat-label">Healthy (‚â•5Êó•)</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Charts Row -->
                <div class="bento-grid">
                    <div class="glass-panel col-span-2 p-md" class="h-400">
                        <h3 class="stat-label mb-lg">Usage Distribution</h3>
                        <div class="chart-container-sm">
                            <div id="chart-distribution"></div>
                        </div>
                    </div>
                    <div class="glass-panel col-span-2 p-md" class="h-400">
                        <h3 class="stat-label mb-lg">Monthly Trends <span id="trends-year-label"></span></h3>
                        <div class="chart-container-sm">
                            <div id="chart-trends"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- VIEW: EMPLOYEES -->
            <div class="view-section d-none" id="view-employees">
                <div class="glass-panel p-lg">
                    <div class="flex-between mb-lg">
                        <div class="flex-center gap-md">
                            <h3 class="text-xl">ÂæìÊ•≠Âì°‰∏ÄË¶ß</h3>
                            <div class="badge badge-warning" id="emp-count-badge">0 Employees</div>
                        </div>
                        <div class="flex-center gap-md">
                            <label class="flex-center gap-sm cursor-pointer" for="active-only-toggle">
                                <input type="checkbox" id="active-only-toggle" checked
                                    onchange="App.employeeTypes.toggleActiveFilter()">
                                <span class="text-sm">Âú®ËÅ∑‰∏≠„ÅÆ„Åø</span>
                            </label>
                            <label for="search-input" class="sr-only">Search employees</label>
                            <input type="text" id="search-input" placeholder="Search by name, ID, or factory..."
                                class="input-glass" class="w-300" oninput="App.ui.handleSearch(this.value)"
                                aria-label="Search employees by name, ID, or factory">
                        </div>
                    </div>
                    <!-- Type Filter Tabs -->
                    <div class="type-filter-tabs mb-lg flex gap-sm flex-wrap" id="type-filter-tabs">
                        <button class="btn btn-glass type-tab active" data-type="all" data-action="ui.filterByType"
                            data-type="all">
                            <span class="tab-label">ÂÖ®Âì°</span>
                            <span class="tab-count" id="count-all">0</span>
                        </button>
                        <button class="btn btn-glass type-tab" data-type="genzai" data-action="ui.filterByType"
                            data-type="genzai">
                            <span class="tab-label">Ê¥æÈÅ£ Dispatch</span>
                            <span class="tab-count" id="count-genzai">0</span>
                        </button>
                        <button class="btn btn-glass type-tab" data-type="ukeoi" data-action="ui.filterByType"
                            data-type="ukeoi">
                            <span class="tab-label">Ë´ãË≤† Contract</span>
                            <span class="tab-count" id="count-ukeoi">0</span>
                        </button>
                        <button class="btn btn-glass type-tab" data-type="staff" data-action="ui.filterByType"
                            data-type="staff">
                            <span class="tab-label">Á§æÂì° Staff</span>
                            <span class="tab-count" id="count-staff">0</span>
                        </button>
                    </div>

                    <!-- Employee Type Tabs -->
                    <div class="employee-tabs flex gap-sm mb-lg">
                        <button class="btn btn-glass active" id="tab-all" data-action="employeeTypes.switchTab"
                            data-tab="all">
                            „Åô„Åπ„Å¶ (All)
                            <span class="badge badge-primary ml-sm" id="count-type-all">0</span>
                        </button>
                        <button class="btn btn-glass" id="tab-haken" data-action="employeeTypes.switchTab"
                            data-tab="haken">
                            üè≠ Ê¥æÈÅ£ (Haken)
                            <span class="badge badge-info ml-sm" id="count-type-haken">0</span>
                        </button>
                        <button class="btn btn-glass" id="tab-ukeoi" data-action="employeeTypes.switchTab"
                            data-tab="ukeoi">
                            üìã Ë´ãË≤† (Ukeoi)
                            <span class="badge badge-success ml-sm" id="count-type-ukeoi">0</span>
                        </button>
                        <button class="btn btn-glass" id="tab-staff" data-action="employeeTypes.switchTab"
                            data-tab="staff">
                            üëî „Çπ„Çø„ÉÉ„Éï (Staff)
                            <span class="badge badge-warning ml-sm" id="count-type-staff">0</span>
                        </button>
                    </div>

                    <!-- Summary Cards by Type -->
                    <div class="bento-grid gap-md mb-lg" class="grid-4-cols">
                        <div class="kpi-card info-card-cyan">
                            <div class="stat-label">Ê¥æÈÅ£ ‰ΩøÁî®Êó•Êï∞</div>
                            <div class="stat-value" id="haken-used">0</div>
                        </div>
                        <div class="kpi-card info-card-success">
                            <div class="stat-label">Ë´ãË≤† ‰ΩøÁî®Êó•Êï∞</div>
                            <div class="stat-value" id="ukeoi-used">0</div>
                        </div>
                        <div class="kpi-card info-card-warning">
                            <div class="stat-label">„Çπ„Çø„ÉÉ„Éï ‰ΩøÁî®Êó•Êï∞</div>
                            <div class="stat-value" id="staff-used">0</div>
                        </div>
                        <div class="kpi-card info-card-purple">
                            <div class="stat-label">ÂêàË®à ‰ΩøÁî®Êó•Êï∞</div>
                            <div class="stat-value" id="total-type-used">0</div>
                        </div>
                    </div>

                    <!-- Bulk Edit Toolbar (v2.3) -->
                    <div class="bulk-edit-toolbar" id="bulk-edit-toolbar">
                        <span class="bulk-edit-toolbar-count">
                            <span id="bulk-selected-count">0</span> ÂêçÈÅ∏Êäû‰∏≠
                        </span>
                        <button class="btn btn-sm btn-primary" data-action="bulkEdit.openModal">
                            ‚úèÔ∏è ‰∏ÄÊã¨Á∑®ÈõÜ
                        </button>
                        <button class="btn btn-sm btn-glass" data-action="bulkEdit.clearSelection">
                            ÈÅ∏ÊäûËß£Èô§
                        </button>
                    </div>

                    <div class="overflow-auto max-h-60vh">
                        <table class="modern-table" aria-labelledby="employees-table-caption">
                            <caption id="employees-table-caption" class="sr-only">ÂæìÊ•≠Âì°ÊúâÁµ¶‰ºëÊöá„Éá„Éº„ÇøË°® - Employee paid leave data
                                table</caption>
                            <thead>
                                <tr>
                                    <th scope="col" class="table-checkbox">
                                        <input type="checkbox" id="select-all-checkbox"
                                            onchange="App.bulkEdit.toggleSelectAll(this.checked)" title="ÂÖ®ÈÅ∏Êäû/Ëß£Èô§">
                                    </th>
                                    <th scope="col">ID</th>
                                    <th scope="col">Employee</th>
                                    <th scope="col">Type</th>
                                    <th scope="col">Factory/Business</th>
                                    <th scope="col">Granted</th>
                                    <th scope="col">Used</th>
                                    <th scope="col">Balance</th>
                                    <th scope="col">Rate</th>
                                </tr>
                            </thead>
                            <tbody id="table-body">
                                <!-- Skeleton loading rows -->
                                <tr class="skeleton-row">
                                    <td>
                                        <div class="skeleton skeleton-text" class="skeleton skeleton-w-60">
                                        </div>
                                    </td>
                                    <td>
                                        <div class="skeleton skeleton-text" class="skeleton skeleton-w-100">
                                        </div>
                                    </td>
                                    <td>
                                        <div class="skeleton skeleton-text" class="skeleton skeleton-w-50">
                                        </div>
                                    </td>
                                    <td>
                                        <div class="skeleton skeleton-text" class="skeleton skeleton-w-120">
                                        </div>
                                    </td>
                                    <td>
                                        <div class="skeleton skeleton-text" class="skeleton skeleton-w-40">
                                        </div>
                                    </td>
                                    <td>
                                        <div class="skeleton skeleton-text" class="skeleton skeleton-w-40">
                                        </div>
                                    </td>
                                    <td>
                                        <div class="skeleton skeleton-text" class="skeleton skeleton-w-40">
                                        </div>
                                    </td>
                                    <td>
                                        <div class="skeleton skeleton-text" class="skeleton skeleton-w-50">
                                        </div>
                                    </td>
                                </tr>
                                <tr class="skeleton-row">
                                    <td>
                                        <div class="skeleton skeleton-text" class="skeleton skeleton-w-55">
                                        </div>
                                    </td>
                                    <td>
                                        <div class="skeleton skeleton-text" class="skeleton skeleton-w-90">
                                        </div>
                                    </td>
                                    <td>
                                        <div class="skeleton skeleton-text" class="skeleton skeleton-w-45">
                                        </div>
                                    </td>
                                    <td>
                                        <div class="skeleton skeleton-text" class="skeleton skeleton-w-110">
                                        </div>
                                    </td>
                                    <td>
                                        <div class="skeleton skeleton-text" class="skeleton skeleton-w-35">
                                        </div>
                                    </td>
                                    <td>
                                        <div class="skeleton skeleton-text" class="skeleton skeleton-w-35">
                                        </div>
                                    </td>
                                    <td>
                                        <div class="skeleton skeleton-text" class="skeleton skeleton-w-35">
                                        </div>
                                    </td>
                                    <td>
                                        <div class="skeleton skeleton-text" class="skeleton skeleton-w-45">
                                        </div>
                                    </td>
                                </tr>
                                <tr class="skeleton-row">
                                    <td>
                                        <div class="skeleton skeleton-text" class="skeleton skeleton-w-65">
                                        </div>
                                    </td>
                                    <td>
                                        <div class="skeleton skeleton-text" class="skeleton skeleton-w-95">
                                        </div>
                                    </td>
                                    <td>
                                        <div class="skeleton skeleton-text" class="skeleton skeleton-w-55">
                                        </div>
                                    </td>
                                    <td>
                                        <div class="skeleton skeleton-text" class="skeleton skeleton-w-100">
                                        </div>
                                    </td>
                                    <td>
                                        <div class="skeleton skeleton-text" class="skeleton skeleton-w-38">
                                        </div>
                                    </td>
                                    <td>
                                        <div class="skeleton skeleton-text" class="skeleton skeleton-w-38">
                                        </div>
                                    </td>
                                    <td>
                                        <div class="skeleton skeleton-text" class="skeleton skeleton-w-38">
                                        </div>
                                    </td>
                                    <td>
                                        <div class="skeleton skeleton-text" class="skeleton skeleton-w-48">
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- VIEW: FACTORIES -->
            <div class="view-section d-none" id="view-factories">
                <div class="glass-panel p-md" class="h-600">
                    <h3 class="stat-label mb-lg">Usage by Factory</h3>
                    <div class="chart-container-lg">
                        <div id="chart-factories"></div>
                    </div>
                </div>
            </div>

            <!-- VIEW: REQUESTS (Áî≥Ë´ã) -->
            <div class="view-section d-none" id="view-requests">
                <div class="bento-grid">
                    <!-- New Request Form -->
                    <div class="glass-panel col-span-2 p-lg">
                        <h3 class="mb-2xl text-xl">
                            üìù Êñ∞Ë¶èÊúâÁµ¶‰ºëÊöáÁî≥Ë´ã
                            <span class="text-xs text-muted ml-sm">New Leave
                                Request</span>
                        </h3>

                        <div id="request-form">
                            <!-- Progress Steps -->
                            <div class="progress-steps">
                                <div class="progress-step active" id="step-1">
                                    <div class="progress-step-number">1</div>
                                    <div class="progress-step-label">ÂæìÊ•≠Âì°ÈÅ∏Êäû</div>
                                </div>
                                <div class="progress-step" id="step-2">
                                    <div class="progress-step-number">2</div>
                                    <div class="progress-step-label">Êó•Á®ã„ÉªÁ®ÆÈ°û</div>
                                </div>
                                <div class="progress-step" id="step-3">
                                    <div class="progress-step-number">3</div>
                                    <div class="progress-step-label">Á¢∫Ë™ç„ÉªÈÄÅ‰ø°</div>
                                </div>
                            </div>

                            <!-- SECTION 1: Employee Selection -->
                            <div class="form-section">
                                <div class="form-section-title">üë§ ÂæìÊ•≠Âì°„ÇíÈÅ∏Êäû</div>

                                <div class="form-group">
                                    <label for="factory-filter">üè≠ Â∑•Â†¥„ÅßÁµûËæº„Åø (Filter by Factory)</label>
                                    <select class="input-glass w-full" id="factory-filter"
                                        onchange="App.requests.filterByFactory()">
                                        <option value="">„Åô„Åπ„Å¶„ÅÆÂ∑•Â†¥ (All Factories)</option>
                                    </select>
                                </div>

                                <div class="form-group">
                                    <label for="emp-search" class="required">üîç ÂæìÊ•≠Âì°„ÇíÊ§úÁ¥¢ (Search Employee)</label>
                                    <input class="input-glass w-full" type="text" id="emp-search"
                                        placeholder="ÂêçÂâç„Åæ„Åü„ÅØÁ§æÂì°Áï™Âè∑„ÅßÊ§úÁ¥¢..." oninput="App.requests.searchEmployee(this.value)"
                                        aria-describedby="emp-search-validation">
                                    <div id="emp-search-validation" class="validation-message"></div>
                                    <div id="emp-search-results" class="mt-sm max-h-200"></div>
                                </div>
                            </div>

                            <!-- Selected Employee Info -->
                            <div id="selected-emp-info" class="d-none mb-xl bg-cyan-highlight">
                                <div class="flex-between">
                                    <div>
                                        <div id="selected-emp-name" class="font-semibold text-lg"></div>
                                        <div id="selected-emp-details" class="text-muted text-sm">
                                        </div>
                                    </div>
                                    <div class="text-right">
                                        <div class="stat-label">ÊÆã„ÇäÊó•Êï∞</div>
                                        <div id="selected-emp-balance" class="text-2xl font-bold text-success">
                                        </div>
                                    </div>
                                </div>
                                <!-- Hourly wage info (shown when available) -->
                                <div id="hourly-wage-info" class="d-none mt-md pt-md border-top-subtle">
                                    <div class="flex-between">
                                        <div>
                                            <span class="stat-label">ÊôÇÁµ¶ (Hourly Wage):</span>
                                            <span id="selected-emp-wage" class="font-semibold text-cyan ml-sm"></span>
                                        </div>
                                        <div>
                                            <span class="stat-label">ÊôÇÈñìÊÆãÈ´ò:</span>
                                            <span id="selected-emp-hours"
                                                class="font-semibold text-warning ml-sm"></span>
                                        </div>
                                    </div>
                                </div>
                                <!-- Yukyu History Table (2 years) -->
                                <div id="yukyu-history-table" class="mt-lg pt-lg border-top-subtle">
                                    <div class="mb-md">
                                        <span class="stat-label">üìä Âπ¥Â∫¶Âà•ÊúâÁµ¶Â±•Ê≠¥ (2Âπ¥ÂàÜ)</span>
                                    </div>
                                    <table class="w-full text-sm border-collapse"
                                        aria-labelledby="yukyu-history-caption">
                                        <caption id="yukyu-history-caption" class="sr-only">Âπ¥Â∫¶Âà•ÊúâÁµ¶Â±•Ê≠¥Ë°® - Annual paid leave
                                            history table (2 years)</caption>
                                        <thead>
                                            <tr class="table-header-highlight">
                                                <th scope="col" class="p-sm text-left rounded-tl">
                                                    Âπ¥Â∫¶</th>
                                                <th scope="col" class="p-sm text-center">‰ªò‰∏éÊó•Êï∞</th>
                                                <th scope="col" class="p-sm text-center">‰ΩøÁî®Êó•Êï∞</th>
                                                <th scope="col" class="p-sm text-center">ÊÆãÊó•Êï∞</th>
                                                <th scope="col" class="p-sm text-center rounded-tr">
                                                    Ê∂àÂåñÁéá</th>
                                            </tr>
                                        </thead>
                                        <tbody id="yukyu-history-tbody">
                                            <tr>
                                                <td colspan="5" class="p-md text-center text-muted">
                                                    ÂæìÊ•≠Âì°„ÇíÈÅ∏Êäû„Åó„Å¶„Åè„Å†„Åï„ÅÑ
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <!-- Usage History (dates) -->
                                <div id="usage-history-container" class="d-none mt-md pt-md border-top-subtle">
                                    <div class="mb-sm">
                                        <span class="stat-label">üìÖ ‰ΩøÁî®Â±•Ê≠¥ (Usage History)</span>
                                        <button type="button" data-action="requests.toggleUsageHistory"
                                            class="ml-sm text-xs text-muted cursor-pointer input-compact">
                                            Ë©≥Á¥∞„ÇíË°®Á§∫
                                        </button>
                                    </div>
                                    <div id="usage-history-summary" class="text-sm text-muted">
                                    </div>
                                    <div id="usage-history-detail" class="d-none mt-sm max-h-200">
                                    </div>
                                </div>
                            </div>

                            <!-- SECTION 2: Date & Type -->
                            <div class="form-section">
                                <div class="form-section-title">üìÖ Êó•Á®ã„Å®Á®ÆÈ°û</div>

                                <div class="d-grid gap-md grid-2-cols">
                                    <div class="form-group">
                                        <label for="start-date" class="required">ÈñãÂßãÊó• (Start Date)</label>
                                        <input class="input-glass w-full" type="date" id="start-date"
                                            onchange="App.requests.validateDates()"
                                            aria-describedby="start-date-validation">
                                        <div id="start-date-validation" class="validation-message"></div>
                                    </div>
                                    <div class="form-group">
                                        <label for="end-date" class="required">ÁµÇ‰∫ÜÊó• (End Date)</label>
                                        <input class="input-glass w-full" type="date" id="end-date"
                                            onchange="App.requests.validateDates()"
                                            aria-describedby="end-date-validation">
                                        <div id="end-date-validation" class="validation-message"></div>
                                    </div>
                                </div>

                                <div class="d-grid gap-md grid-2-cols">
                                    <div class="form-group">
                                        <label for="leave-type" class="required">Á®ÆÈ°û (Type)</label>
                                        <select class="input-glass w-full" id="leave-type"
                                            onchange="App.requests.toggleLeaveType()">
                                            <option value="full">ÂÖ®Êó•‰ºëÊöá (Full Day)</option>
                                            <option value="half_am">ÂçàÂâçÂçä‰ºë (AM Half)</option>
                                            <option value="half_pm">ÂçàÂæåÂçä‰ºë (PM Half)</option>
                                            <option value="hourly">ÊôÇÈñì‰ºë (Hourly)</option>
                                        </select>
                                    </div>
                                    <div class="form-group" id="days-input-container">
                                        <label for="days-requested" class="required">Êó•Êï∞ (Days)</label>
                                        <input class="input-glass w-full" type="number" id="days-requested" min="0.5"
                                            step="0.5" value="1" oninput="App.requests.validateDays()"
                                            aria-describedby="days-validation">
                                        <div id="days-validation" class="validation-message"></div>
                                    </div>
                                    <div class="form-group d-none" id="hours-input-container">
                                        <label for="hours-requested" class="required">ÊôÇÈñìÊï∞ (Hours)</label>
                                        <input class="input-glass w-full" type="number" id="hours-requested" min="1"
                                            max="7" step="1" value="1"
                                            oninput="App.requests.updateCostEstimate(); App.requests.validateHours();"
                                            aria-describedby="hours-validation hours-hint">
                                        <div id="hours-validation" class="validation-message"></div>
                                        <div id="hours-hint" class="text-xs text-muted mt-xs">
                                            ‚Äª 1Êó•ÊúÄÂ§ß7ÊôÇÈñì„Åæ„Åß</div>
                                    </div>
                                </div>
                            </div>

                            <!-- Cost Estimate (shown for hourly leave) -->
                            <div id="cost-estimate-container" class="d-none mb-xl info-card-warning">
                                <div class="flex-between">
                                    <span class="stat-label">üí∞ Ë¶ãÁ©ç„Ç≥„Çπ„Éà (Estimated Cost):</span>
                                    <span id="cost-estimate" class="text-xl font-bold text-warning"></span>
                                </div>
                            </div>

                            <!-- SECTION 3: Reason -->
                            <div class="form-section">
                                <div class="form-section-title">üìù ÁêÜÁî±</div>
                                <div class="form-group">
                                    <label for="leave-reason">ÁêÜÁî± (Reason) - ‰ªªÊÑè</label>
                                    <textarea class="input-glass w-full" id="leave-reason"
                                        class="min-h-80 textarea-resizable" placeholder="ÁßÅÁî®„ÄÅÈÄöÈô¢„ÄÅÊóÖË°å„Å™„Å©..." maxlength="200"
                                        oninput="App.requests.updateCharCounter()"
                                        aria-describedby="reason-char-counter"></textarea>
                                    <div class="char-counter" id="reason-char-counter">0 / 200</div>
                                </div>
                            </div>

                            <!-- Submit Button -->
                            <button class="btn btn-primary w-full p-md" id="submit-btn"
                                data-action="requests.showConfirmation">
                                ‚úì ÂÜÖÂÆπ„ÇíÁ¢∫Ë™ç„Åô„Çã (Review & Submit)
                            </button>
                        </div>
                    </div>

                    <!-- Pending Requests -->
                    <div class="glass-panel col-span-2 p-lg">
                        <div class="flex-between mb-lg">
                            <h3 class="text-xl">
                                ‚è≥ ÊâøË™çÂæÖ„Å°
                                <span class="text-xs text-muted ml-sm">Pending
                                    Approvals</span>
                            </h3>
                            <button class="btn btn-glass" data-action="requests.loadPending">
                                üîÑ Êõ¥Êñ∞
                            </button>
                        </div>

                        <div id="pending-requests" class="overflow-y-auto" class="max-h-400">
                            <div class="empty-state">
                                Loading pending requests...
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Request History -->
                <div class="glass-panel p-lg mt-2xl">
                    <h3 class="mb-2xl text-xl">
                        üìã Áî≥Ë´ãÂ±•Ê≠¥
                        <span class="text-xs text-muted ml-sm">Request
                            History</span>
                    </h3>
                    <div class="overflow-auto">
                        <table class="modern-table" aria-labelledby="requests-history-caption">
                            <caption id="requests-history-caption" class="sr-only">‰ºëÊöáÁî≥Ë´ãÂ±•Ê≠¥Ë°® - Leave request history table
                            </caption>
                            <thead>
                                <tr>
                                    <th scope="col">ID</th>
                                    <th scope="col">ÂæìÊ•≠Âì°</th>
                                    <th scope="col">ÊúüÈñì</th>
                                    <th scope="col">Êó•Êï∞</th>
                                    <th scope="col">ÁêÜÁî±</th>
                                    <th scope="col">„Çπ„ÉÜ„Éº„Çø„Çπ</th>
                                    <th scope="col">Áî≥Ë´ãÊó•</th>
                                    <th scope="col">Êìç‰Ωú</th>
                                </tr>
                            </thead>
                            <tbody id="requests-history">
                                <tr>
                                    <td colspan="8" class="text-center p-xl">Loading...</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- VIEW: COMPLIANCE -->
            <div class="view-section d-none" id="view-compliance">
                <div class="bento-grid">
                    <!-- 5 Day Compliance -->
                    <div class="glass-panel col-span-2 p-lg">
                        <div class="flex-between mb-lg">
                            <h3 class="text-xl">
                                üìä 5Êó•ÂèñÂæóÁæ©Âãô „ÉÅ„Çß„ÉÉ„ÇØ
                                <span class="text-xs text-muted ml-sm">5-Day
                                    Compliance Check</span>
                            </h3>
                            <button class="btn btn-primary" data-action="compliance.check5Day">
                                üîç „ÉÅ„Çß„ÉÉ„ÇØÂÆüË°å
                            </button>
                        </div>

                        <div id="compliance-summary" class="d-grid gap-md mb-2xl" class="grid-4-cols">
                            <div class="stat-card text-center">
                                <div class="stat-label">ÂØæË±°ËÄÖ</div>
                                <div class="stat-value" id="comp-total">-</div>
                            </div>
                            <div class="stat-card text-center" class="border-success">
                                <div class="stat-label">ÈÅîÊàê</div>
                                <div class="stat-value text-success" id="comp-compliant">-
                                </div>
                            </div>
                            <div class="stat-card text-center" class="border-warning">
                                <div class="stat-label">Ë¶ÅÊ≥®ÊÑè</div>
                                <div class="stat-value text-warning" id="comp-atrisk">-</div>
                            </div>
                            <div class="stat-card text-center" class="border-danger">
                                <div class="stat-label">Êú™ÈÅîÊàê</div>
                                <div class="stat-value text-danger" id="comp-noncompliant">-
                                </div>
                            </div>
                        </div>

                        <div id="compliance-list" class="overflow-y-auto" class="max-h-300">
                            <div class="empty-state">
                                Click "„ÉÅ„Çß„ÉÉ„ÇØÂÆüË°å" to check compliance
                            </div>
                        </div>
                    </div>

                    <!-- Alerts -->
                    <div class="glass-panel col-span-2 p-lg">
                        <div class="flex-between mb-lg">
                            <h3 class="text-xl">
                                üö® „Ç¢„É©„Éº„Éà
                                <span class="text-xs text-muted ml-sm">Compliance
                                    Alerts</span>
                            </h3>
                            <button class="btn btn-glass" data-action="compliance.loadAlerts">
                                üîÑ Êõ¥Êñ∞
                            </button>
                        </div>

                        <div id="alerts-container" class="overflow-y-auto" class="max-h-400">
                            <div class="empty-state">
                                Loading alerts...
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Annual Ledger -->
                <div class="glass-panel p-lg mt-2xl">
                    <div class="flex-between mb-lg">
                        <h3 class="text-xl">
                            üìí Âπ¥Ê¨°ÊúâÁµ¶‰ºëÊöáÁÆ°ÁêÜÁ∞ø
                            <span class="text-xs text-muted ml-sm">Annual
                                Leave Ledger (Required by Law)</span>
                        </h3>
                        <div class="flex-center gap-sm">
                            <button class="btn btn-glass" data-action="compliance.loadLedger">
                                üìÑ Ë°®Á§∫
                            </button>
                            <button class="btn btn-primary" data-action="compliance.exportLedger" data-format="csv">
                                üíæ CSVÂá∫Âäõ
                            </button>
                        </div>
                    </div>

                    <div id="ledger-container" class="overflow-auto" class="max-h-400">
                        <div class="empty-state">
                            Click "Ë°®Á§∫" to load the annual ledger
                        </div>
                    </div>
                </div>
            </div>

            <!-- VIEW: CALENDAR -->
            <div class="view-section d-none" id="view-calendar">
                <div class="bento-grid">
                    <!-- Calendar Controls -->
                    <div class="glass-panel col-span-4 p-md">
                        <div class="flex-between mb-lg">
                            <div class="flex-center gap-md">
                                <button class="btn btn-glass" data-action="calendar.prevMonth">‚óÄ</button>
                                <h3 id="calendar-month-title" class="text-2xl text-center" class="min-w-200">
                                    2025Âπ¥ 12Êúà
                                </h3>
                                <button class="btn btn-glass" data-action="calendar.nextMonth">‚ñ∂</button>
                            </div>
                            <div class="flex-center gap-sm">
                                <button class="btn btn-glass" data-action="calendar.goToToday">‰ªäÊó•</button>
                                <button class="btn btn-primary" data-action="calendar.loadEvents"
                                    aria-label="„Ç´„É¨„É≥„ÉÄ„Éº„ÇíÊõ¥Êñ∞">üîÑ
                                    Êõ¥Êñ∞</button>
                            </div>
                        </div>

                        <!-- Legend -->
                        <div class="flex-center gap-lg mb-lg text-sm">
                            <span><span class="legend-box legend-box-cyan"></span>ÂÖ®Êó•‰ºëÊöá</span>
                            <span><span class="legend-box legend-box-cyan-dark"></span>ÂçàÂâçÂçä‰ºë</span>
                            <span><span class="legend-box legend-box-cyan-light"></span>ÂçàÂæåÂçä‰ºë</span>
                            <span><span class="legend-box legend-box-warning"></span>ÊôÇÈñì‰ºë</span>
                            <span><span class="legend-box legend-box-success"></span>‰ΩøÁî®Êó•</span>
                        </div>

                        <!-- Calendar Grid -->
                        <div id="calendar-grid" class="calendar-grid">
                            <!-- Header -->
                            <div class="calendar-header-cell">Êó•</div>
                            <div class="calendar-header-cell">Êúà</div>
                            <div class="calendar-header-cell">ÁÅ´</div>
                            <div class="calendar-header-cell">Ê∞¥</div>
                            <div class="calendar-header-cell">Êú®</div>
                            <div class="calendar-header-cell">Èáë</div>
                            <div class="calendar-header-cell">Âúü</div>
                            <!-- Days will be rendered by JS -->
                        </div>
                    </div>

                    <!-- Day Detail Panel -->
                    <div class="glass-panel col-span-2 p-md">
                        <h3 class="mb-lg text-lg">
                            üìã ÈÅ∏ÊäûÊó•„ÅÆË©≥Á¥∞
                            <span id="selected-date-display" class="text-cyan ml-sm">-</span>
                        </h3>
                        <div id="day-detail-container" class="overflow-y-auto" class="max-h-300">
                            <div class="empty-state">
                                Êó•‰ªò„Çí„ÇØ„É™„ÉÉ„ÇØ„Åó„Å¶Ë©≥Á¥∞„ÇíË°®Á§∫
                            </div>
                        </div>
                    </div>

                    <!-- Monthly Summary -->
                    <div class="glass-panel col-span-2 p-md">
                        <h3 class="mb-lg text-lg">üìä ÊúàÈñì„Çµ„Éû„É™„Éº</h3>
                        <div id="monthly-summary-container">
                            <div class="d-grid gap-md" class="grid-2-cols">
                                <div class="stat-card text-center p-md">
                                    <div class="stat-label">‰ºëÊöáÂèñÂæóËÄÖÊï∞</div>
                                    <div class="stat-value text-2xl" id="cal-month-employees">-
                                    </div>
                                </div>
                                <div class="stat-card text-center p-md">
                                    <div class="stat-label">Á∑èÂèñÂæóÊó•Êï∞</div>
                                    <div class="stat-value text-2xl" id="cal-month-days">-</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- VIEW: ANALYTICS -->
            <div class="view-section d-none" id="view-analytics">
                <div class="bento-grid">
                    <!-- Summary Cards -->
                    <div class="glass-panel stat-card col-span-1">
                        <div class="stat-label">Á∑èÂæìÊ•≠Âì°Êï∞</div>
                        <div class="stat-value" id="ana-total-emp">-</div>
                    </div>
                    <div class="glass-panel stat-card col-span-1">
                        <div class="stat-label">Á∑è‰ªò‰∏éÊó•Êï∞</div>
                        <div class="stat-value text-cyan" id="ana-total-granted">-</div>
                    </div>
                    <div class="glass-panel stat-card col-span-1">
                        <div class="stat-label">Á∑è‰ΩøÁî®Êó•Êï∞</div>
                        <div class="stat-value text-success" id="ana-total-used">-</div>
                    </div>
                    <div class="glass-panel stat-card col-span-1">
                        <div class="stat-label">Âπ≥ÂùáÊ∂àÂåñÁéá</div>
                        <div class="stat-value text-warning" id="ana-avg-rate">-</div>
                    </div>

                    <!-- Department Chart -->
                    <div class="glass-panel col-span-2 p-md" class="h-400">
                        <h3 class="stat-label mb-lg">ÈÉ®ÈñÄÂà•‰ΩøÁî®Êó•Êï∞</h3>
                        <div class="chart-container-sm">
                            <canvas id="chart-department"></canvas>
                        </div>
                    </div>

                    <!-- Employee Type Chart -->
                    <div class="glass-panel col-span-2 p-md" class="h-400">
                        <h3 class="stat-label mb-lg">ÂæìÊ•≠Âì°„Çø„Ç§„ÉóÂà•</h3>
                        <div class="chart-container-sm">
                            <canvas id="chart-emp-type"></canvas>
                        </div>
                    </div>

                    <!-- Top Users -->
                    <div class="glass-panel col-span-2 p-md">
                        <h3 class="stat-label mb-lg">üèÜ Top 10 ‰ΩøÁî®ËÄÖ</h3>
                        <div id="top-users-list" class="overflow-y-auto" class="max-h-300"></div>
                    </div>

                    <!-- High Balance -->
                    <div class="glass-panel col-span-2 p-md">
                        <h3 class="stat-label mb-lg">‚ö†Ô∏è ÊÆãÊó•Êï∞„ÅåÂ§ö„ÅÑÂæìÊ•≠Âì°</h3>
                        <div id="high-balance-list" class="overflow-y-auto" class="max-h-300"></div>
                    </div>

                    <!-- Predictions -->
                    <div class="glass-panel col-span-4 p-md">
                        <div class="flex-between mb-lg">
                            <h3 class="stat-label">üìà Âπ¥Êú´‰∫àÊ∏¨„Éª5Êó•Áæ©ÂãôÈÅîÊàê„É™„Çπ„ÇØ</h3>
                            <button class="btn btn-glass" data-action="analytics.loadPredictions" aria-label="‰∫àÊ∏¨„ÇíÊõ¥Êñ∞">üîÑ
                                Êõ¥Êñ∞</button>
                        </div>
                        <div id="predictions-container">
                            <div class="d-grid gap-md mb-lg" class="grid-4-cols">
                                <div class="stat-card text-center p-md">
                                    <div class="stat-label">ÁèæÂú®Êúà</div>
                                    <div id="pred-current-month" class="text-2xl font-bold">-
                                    </div>
                                </div>
                                <div class="stat-card text-center p-md">
                                    <div class="stat-label">ÊÆã„ÇäÊúàÊï∞</div>
                                    <div id="pred-remaining-months" class="text-2xl font-bold">-</div>
                                </div>
                                <div class="stat-card text-center p-md">
                                    <div class="stat-label">ÊúàÂπ≥Âùá‰ΩøÁî®</div>
                                    <div id="pred-avg-monthly" class="text-2xl font-bold">-
                                    </div>
                                </div>
                                <div class="stat-card text-center p-md" class="border-danger">
                                    <div class="stat-label">5Êó•Êú™ÈÅîÊàê„É™„Çπ„ÇØ</div>
                                    <div id="pred-at-risk" class="text-2xl font-bold text-danger">-
                                    </div>
                                </div>
                            </div>
                            <div id="at-risk-employees" class="max-h-200"></div>
                        </div>
                    </div>
                </div>

                <!-- Export Section -->
                <div class="glass-panel p-md mt-2xl">
                    <h3 class="stat-label mb-lg">üì• „Éá„Éº„Çø„Ç®„ÇØ„Çπ„Éù„Éº„Éà</h3>
                    <div class="flex-center gap-md flex-wrap">
                        <button class="btn btn-primary" data-action="analytics.exportExcel" data-type="employees">
                            üìä ÂæìÊ•≠Âì°„Éá„Éº„Çø (Excel)
                        </button>
                        <button class="btn btn-glass" data-action="analytics.exportExcel" data-type="requests">
                            üìù Áî≥Ë´ã‰∏ÄË¶ß (Excel)
                        </button>
                        <button class="btn btn-glass" data-action="analytics.exportExcel" data-type="compliance">
                            ‚úÖ ÁÆ°ÁêÜÁ∞ø (Excel)
                        </button>
                    </div>
                </div>
            </div>

            <!-- VIEW: MONTHLY REPORTS -->
            <div class="view-section d-none" id="view-reports">
                <div class="bento-grid">
                    <!-- Date Selector with Tabs -->
                    <div class="glass-panel col-span-4 p-md">
                        <div class="flex-between mb-xl flex-wrap gap-md">
                            <h3 class="text-xl">üìã „É¨„Éù„Éº„ÉàÊúüÈñì</h3>
                            <button class="btn btn-export" data-action="reports.exportReport">
                                üì• ExcelÂá∫Âäõ
                            </button>
                        </div>

                        <!-- Tab Selector -->
                        <div class="tab-container mb-xl">
                            <button class="tab-btn active" id="tab-monthly" data-action="reports.setMode"
                                data-mode="monthly">
                                üìÖ ÊúàÊ¨° (21Êó•„Äú20Êó•)
                            </button>
                            <button class="tab-btn" id="tab-custom" data-action="reports.setMode" data-mode="custom">
                                üîß ÊúüÈñìÊåáÂÆö
                            </button>
                        </div>

                        <!-- Monthly Mode -->
                        <div id="monthly-selector" class="flex gap-md align-end mb-lg flex-wrap">
                            <div>
                                <label for="report-year" class="sr-only">Âπ¥Â∫¶ÈÅ∏Êäû</label>
                                <select id="report-year" class="input-glass" class="w-120"
                                    onchange="App.reports.loadMonthList()" aria-label="Âπ¥Â∫¶„ÇíÈÅ∏Êäû">
                                </select>
                            </div>
                            <div>
                                <label for="report-month" class="sr-only">ÊúàÂ∫¶ÈÅ∏Êäû</label>
                                <select id="report-month" class="input-glass" class="w-120"
                                    onchange="App.reports.loadReport()" aria-label="ÊúàÂ∫¶„ÇíÈÅ∏Êäû">
                                    <option value="1">1ÊúàÂ∫¶</option>
                                    <option value="2">2ÊúàÂ∫¶</option>
                                    <option value="3">3ÊúàÂ∫¶</option>
                                    <option value="4">4ÊúàÂ∫¶</option>
                                    <option value="5">5ÊúàÂ∫¶</option>
                                    <option value="6">6ÊúàÂ∫¶</option>
                                    <option value="7">7ÊúàÂ∫¶</option>
                                    <option value="8">8ÊúàÂ∫¶</option>
                                    <option value="9">9ÊúàÂ∫¶</option>
                                    <option value="10">10ÊúàÂ∫¶</option>
                                    <option value="11">11ÊúàÂ∫¶</option>
                                    <option value="12">12ÊúàÂ∫¶</option>
                                </select>
                            </div>
                            <button class="btn btn-primary" data-action="reports.loadReport">üîç Ë°®Á§∫</button>
                        </div>

                        <!-- Custom Mode -->
                        <div id="custom-selector" class="d-none mb-lg">
                            <div class="flex gap-md align-end flex-wrap">
                                <div>
                                    <label class="stat-label d-block mb-xs text-xs" for="report-start-date">ÈñãÂßãÊó•</label>
                                    <input type="date" id="report-start-date" class="input-glass" class="w-160">
                                </div>
                                <div class="pb-md" aria-hidden="true">
                                    <span class="text-xl text-muted">„Äú</span>
                                </div>
                                <div>
                                    <label class="stat-label d-block mb-xs text-xs" for="report-end-date">ÁµÇ‰∫ÜÊó•</label>
                                    <input type="date" id="report-end-date" class="input-glass" class="w-160">
                                </div>
                                <button class="btn btn-primary" data-action="reports.loadCustomReport">üîç
                                    Ë°®Á§∫</button>
                            </div>
                            <div class="mt-md text-sm text-muted">
                                ‚Äª Ë§áÊï∞Êúà„Å´„Åæ„Åü„Åå„ÇãÊúüÈñì„ÇÇOKÔºà‰æã: 1/16 „Äú 2/20Ôºâ
                            </div>
                        </div>

                        <!-- Period Display -->
                        <div id="report-period-display" class="text-center p-md bg-cyan-subtle rounded">
                            <span class="text-xl font-semibold" id="report-period-label">-</span>
                        </div>
                    </div>

                    <!-- Summary Cards -->
                    <div class="glass-panel stat-card col-span-1">
                        <div class="stat-label">ÂèñÂæóËÄÖÊï∞</div>
                        <div class="stat-value" id="rpt-emp-count">-</div>
                    </div>
                    <div class="glass-panel stat-card col-span-1">
                        <div class="stat-label">Á∑èÂèñÂæóÊó•Êï∞</div>
                        <div class="stat-value text-cyan" id="rpt-total-days">-</div>
                    </div>
                    <div class="glass-panel stat-card col-span-1">
                        <div class="stat-label">Á∑èÂèñÂæóÊôÇÈñì</div>
                        <div class="stat-value text-warning" id="rpt-total-hours">-</div>
                    </div>
                    <div class="glass-panel stat-card col-span-1">
                        <div class="stat-label">1‰∫∫Âπ≥Âùá</div>
                        <div class="stat-value text-success" id="rpt-avg-days">-</div>
                    </div>

                    <!-- Employee List -->
                    <div class="glass-panel col-span-2 p-md">
                        <h3 class="stat-label mb-lg">üë• ÂèñÂæóËÄÖ‰∏ÄË¶ß</h3>
                        <div id="report-employee-list" class="overflow-y-auto" class="max-h-400">
                            <div class="empty-state">
                                Êúà„ÇíÈÅ∏Êäû„Åó„Å¶„É¨„Éù„Éº„Éà„ÇíË°®Á§∫
                            </div>
                        </div>
                    </div>

                    <!-- Factory Summary -->
                    <div class="glass-panel col-span-2 p-md">
                        <h3 class="stat-label mb-lg">üè≠ Ê¥æÈÅ£ÂÖàÂà•ÈõÜË®à</h3>
                        <div id="report-factory-list" class="overflow-y-auto" class="max-h-400">
                            <div class="empty-state">
                                Êúà„ÇíÈÅ∏Êäû„Åó„Å¶„É¨„Éù„Éº„Éà„ÇíË°®Á§∫
                            </div>
                        </div>
                    </div>

                    <!-- Daily Breakdown -->
                    <div class="glass-panel col-span-4 p-md">
                        <h3 class="stat-label mb-lg">üìÖ Êó•Âà•ÂèñÂæóÁä∂Ê≥Å</h3>
                        <div id="report-daily-grid" class="d-grid gap-sm overflow-y-auto" class="grid-auto-fill">
                            <div class="empty-state col-span-full">
                                Êúà„ÇíÈÅ∏Êäû„Åó„Å¶„É¨„Éù„Éº„Éà„ÇíË°®Á§∫
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Year Overview -->
                <div class="glass-panel p-md mt-2xl">
                    <h3 class="stat-label mb-lg">üìä Âπ¥ÈñìÊúàÂà•„Çµ„Éû„É™„Éº</h3>
                    <div class="overflow-auto">
                        <table class="modern-table" aria-labelledby="year-summary-caption">
                            <caption id="year-summary-caption" class="sr-only">Âπ¥ÈñìÊúàÂà•„Çµ„Éû„É™„ÉºË°® - Annual monthly summary table
                            </caption>
                            <thead>
                                <tr>
                                    <th scope="col">ÊúàÂ∫¶</th>
                                    <th scope="col">ÊúüÈñì</th>
                                    <th scope="col">ÂèñÂæóËÄÖÊï∞</th>
                                    <th scope="col">Á∑èÊó•Êï∞</th>
                                    <th scope="col">Ë©≥Á¥∞</th>
                                </tr>
                            </thead>
                            <tbody id="report-year-summary">
                                <tr>
                                    <td colspan="5" class="text-center p-xl">Loading...</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- VIEW: SETTINGS -->
            <div class="view-section d-none" id="view-settings">
                <div class="glass-panel p-lg">
                    <h3 class="mb-2xl text-xl">‚öôÔ∏è „Ç∑„Çπ„ÉÜ„É†Ë®≠ÂÆö</h3>

                    <div class="d-grid gap-xl">
                        <!-- System Status -->
                        <div>
                            <h4 class="stat-label mb-lg">„Ç∑„Çπ„ÉÜ„É†Áä∂ÊÖã</h4>
                            <div id="system-status" class="d-grid gap-md" class="grid-3-cols-fixed">
                                <div class="stat-card text-center">
                                    <div class="stat-label">Database Size</div>
                                    <div class="stat-value" id="sys-db-size">-</div>
                                </div>
                                <div class="stat-card text-center">
                                    <div class="stat-label">Total Employees</div>
                                    <div class="stat-value" id="sys-emp-count">-</div>
                                </div>
                                <div class="stat-card text-center">
                                    <div class="stat-label">Health Status</div>
                                    <div class="stat-value text-success" id="sys-health">-
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Data Management -->
                        <div>
                            <h4 class="stat-label mb-lg">„Éá„Éº„ÇøÁÆ°ÁêÜ</h4>
                            <div class="flex gap-md flex-wrap">
                                <button class="btn btn-glass" data-action="settings.loadSnapshot">
                                    üìä SnapshotÊõ¥Êñ∞
                                </button>
                                <button class="btn btn-glass" data-action="settings.viewAuditLog">
                                    üìú Áõ£Êüª„É≠„Ç∞
                                </button>
                                <button class="btn btn-glass" data-action="data.sync" class="bg-primary-light">
                                    ‚ö° „Éá„Éº„ÇøÂêåÊúü
                                </button>
                            </div>
                        </div>

                        <!-- Backup Management -->
                        <div>
                            <h4 class="stat-label mb-lg">üì¶ „Éê„ÉÉ„ÇØ„Ç¢„ÉÉ„ÉóÁÆ°ÁêÜ</h4>
                            <div class="flex gap-md flex-wrap">
                                <button class="btn btn-primary" data-action="backup.create">
                                    üì¶ „Éê„ÉÉ„ÇØ„Ç¢„ÉÉ„Éó‰ΩúÊàê
                                </button>
                                <button class="btn btn-glass" data-action="backup.showBackupList">
                                    üìã „Éê„ÉÉ„ÇØ„Ç¢„ÉÉ„Éó‰∏ÄË¶ß
                                </button>
                            </div>
                            <div class="mt-md text-sm text-muted">
                                ‚Äª „Çµ„Éº„Éê„ÉºËµ∑ÂãïÊôÇ„Å´Ëá™Âãï„Éê„ÉÉ„ÇØ„Ç¢„ÉÉ„Éó„Åå‰ΩúÊàê„Åï„Çå„Åæ„Åô„ÄÇÊúÄÂ§ß10‰ª∂‰øùÊåÅ„ÄÇ
                            </div>
                        </div>

                        <!-- API Info -->
                        <div>
                            <h4 class="stat-label mb-lg">APIÊÉÖÂ†±</h4>
                            <div class="p-md rounded text-sm" class="bg-code">
                                <div class="text-muted">Base URL:</div>
                                <div class="text-cyan">/api</div>
                                <div class="text-muted mt-sm">Documentation:</div>
                                <div><a href="/docs" target="_blank" class="text-cyan">/docs</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </main>
    </div>

    <!-- UI Elements -->
    <div class="loader-overlay" id="loader">
        <div class="spinner"></div>
        <div>Ë™≠„ÅøËæº„Åø‰∏≠</div>
    </div>

    <div class="toast-container" role="status" aria-live="polite" aria-atomic="true" id="toast-container"></div>

    <!-- Simple Modal for Details -->
    <div class="loader-overlay bg-overlay-dark" id="detail-modal" role="dialog" aria-modal="true"
        aria-labelledby="modal-title">
        <div class="glass-panel modal-content-container">
            <button class="btn modal-close-btn" data-action="ui.closeModal" aria-label="Close modal">‚úï</button>
            <div class="p-xl">
                <h2 id="modal-title" class="mb-lg">Employee Details</h2>
                <div id="modal-content"></div>
            </div>
        </div>
    </div>

    <!-- Flatpickr Script -->
    <script src="https://cdn.jsdelivr.net/npm/flatpickr@4.6.13/dist/flatpickr.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/flatpickr@4.6.13/dist/l10n/ja.js"></script>

    <!-- Flatpickr Initialization -->
    <script>
        // Get current theme dynamically
        const getCurrentTheme = () => {
            return document.documentElement.getAttribute('data-theme') || 'dark';
        };

        document.addEventListener('DOMContentLoaded', function () {
            // Common Flatpickr configuration
            const flatpickrConfig = {
                locale: 'ja',
                dateFormat: 'Y-m-d',
                altInput: true,
                altFormat: 'YÂπ¥mÊúàdÊó• (D)',
                allowInput: true,
                clickOpens: true,
                theme: getCurrentTheme(), // Tema din√°mico basado en data-theme
                position: 'auto',
                animate: true,
                monthSelectorType: 'dropdown',
                shorthandCurrentMonth: false,
                yearSelectorType: 'dropdown',
                disableMobile: false,
                onReady: function (selectedDates, dateStr, instance) {
                    // Add custom icon to the input wrapper
                    const input = instance.input;
                    if (!input.parentElement.querySelector('.flatpickr-icon')) {
                        const icon = document.createElement('span');
                        icon.className = 'flatpickr-icon';
                        icon.textContent = 'üìÖ';
                        icon.style.cssText = 'position: absolute; right: 12px; top: 50%; transform: translateY(-50%); pointer-events: none; font-size: 1.2rem; opacity: 0.6;';
                        input.parentElement.style.position = 'relative';
                        input.parentElement.appendChild(icon);
                    }
                },
                onChange: function (selectedDates, dateStr, instance) {
                    // Trigger the original onchange event if exists
                    const event = new Event('change', { bubbles: true });
                    instance.input.dispatchEvent(event);
                }
            };

            // Initialize Start Date picker
            const startDateInput = document.getElementById('start-date');
            if (startDateInput) {
                const startDatePicker = flatpickr(startDateInput, {
                    ...flatpickrConfig,
                    onChange: function (selectedDates, dateStr, instance) {
                        // Update end date minimum
                        if (endDatePicker && selectedDates.length > 0) {
                            endDatePicker.set('minDate', selectedDates[0]);
                        }
                        // Trigger original validation
                        if (typeof App !== 'undefined' && App.requests && App.requests.validateDates) {
                            App.requests.validateDates();
                        }
                    }
                });

                window.startDatePicker = startDatePicker;
            }

            // Initialize End Date picker
            const endDateInput = document.getElementById('end-date');
            if (endDateInput) {
                const endDatePicker = flatpickr(endDateInput, {
                    ...flatpickrConfig,
                    onChange: function (selectedDates, dateStr, instance) {
                        // Update start date maximum
                        if (startDatePicker && selectedDates.length > 0) {
                            startDatePicker.set('maxDate', selectedDates[0]);
                        }
                        // Trigger original validation
                        if (typeof App !== 'undefined' && App.requests && App.requests.validateDates) {
                            App.requests.validateDates();
                        }
                    }
                });

                window.endDatePicker = endDatePicker;
            }

            // Initialize Report Date pickers (for custom report range)
            const reportStartDate = document.getElementById('report-start-date');
            if (reportStartDate) {
                const reportStartPicker = flatpickr(reportStartDate, {
                    ...flatpickrConfig,
                    onChange: function (selectedDates, dateStr, instance) {
                        if (reportEndPicker && selectedDates.length > 0) {
                            reportEndPicker.set('minDate', selectedDates[0]);
                        }
                    }
                });
                window.reportStartPicker = reportStartPicker;
            }

            const reportEndDate = document.getElementById('report-end-date');
            if (reportEndDate) {
                const reportEndPicker = flatpickr(reportEndDate, {
                    ...flatpickrConfig,
                    onChange: function (selectedDates, dateStr, instance) {
                        if (reportStartPicker && selectedDates.length > 0) {
                            reportStartPicker.set('maxDate', selectedDates[0]);
                        }
                    }
                });
                window.reportEndPicker = reportEndPicker;
            }

            console.log('‚úÖ Flatpickr date pickers initialized with Japanese locale and custom theme');
        });
    </script>

    <script src="/static/js/app.js?v=20260119-2"></script>

    <!-- FASE 4.2: Modern Component Integration Bridge (Non-Breaking) -->
    <script src="/static/js/modern-integration.js?v=20260117" defer></script>

    <!-- Modern UI Bootstrap - Connects static/src/ with legacy app.js -->
    <script type="module">
        import { initModernUI, loadComponents, CONFIG, FEATURES } from '/static/src/bootstrap.js';

        // Wait for legacy App to be available
        function waitForApp(timeout = 5000) {
            return new Promise((resolve, reject) => {
                if (window.App) {
                    resolve(window.App);
                    return;
                }
                const start = Date.now();
                const check = setInterval(() => {
                    if (window.App) {
                        clearInterval(check);
                        resolve(window.App);
                    } else if (Date.now() - start > timeout) {
                        clearInterval(check);
                        reject(new Error('App not found'));
                    }
                }, 50);
            });
        }

        // Initialize when App is ready
        waitForApp().then(async (App) => {
            // Initialize modern UI and attach to legacy App
            const result = await initModernUI(App);

            if (result.success) {
                console.log('[YuKyu] Modern UI components loaded');
                console.log('[YuKyu] Access via App.components.Modal, App.components.Alert, etc.');

                // Pre-load commonly used components for faster access
                const components = await loadComponents([
                    'Modal', 'Alert', 'Badge', 'Loader'
                ]);

                // Expose helper for quick notifications
                window.notify = {
                    success: (msg) => App.components.Alert.success(msg),
                    error: (msg) => App.components.Alert.error(msg),
                    warning: (msg) => App.components.Alert.warning(msg),
                    info: (msg) => App.components.Alert.info(msg)
                };
            } else {
                console.warn('[YuKyu] Modern UI not available:', result.reason);
            }
        }).catch(err => {
            console.warn('[YuKyu] Legacy App not found, modern UI skipped:', err.message);
        });
    </script>

    <!-- UI Enhancements Module (Sprint 1, 2 & 3) -->
    <script type="module">
        import {
            FormValidator,
            LoadingState,
            ConfirmDialog,
            FocusTrap,
            Tooltip,
            ProgressIndicator,
            initUIEnhancements
        } from '/static/js/modules/ui-enhancements.js';

        // Expose to global scope for use in App
        window.UIEnhancements = {
            FormValidator,
            LoadingState,
            ConfirmDialog,
            FocusTrap,
            Tooltip,
            ProgressIndicator
        };

        // Initialize when DOM is ready
        document.addEventListener('DOMContentLoaded', () => {
            // Initialize tooltip system
            Tooltip.init();

            // Add tooltips to key buttons
            const tooltips = {
                'btn-sync-main': 'Excel„Åã„ÇâÊúâÁµ¶„Éá„Éº„Çø„ÇíÂêåÊúü„Åó„Åæ„Åô / Sincronizar datos de vacaciones desde Excel',
                'btn-sync-genzai': 'Ê¥æÈÅ£Á§æÂì°„Éá„Éº„Çø„ÇíÂêåÊúü / Sincronizar empleados dispatch',
                'btn-sync-ukeoi': 'Ë´ãË≤†Á§æÂì°„Éá„Éº„Çø„ÇíÂêåÊúü / Sincronizar empleados contrato',
                'year-select': 'Âπ¥Â∫¶„ÇíÈÅ∏Êäû / Seleccionar a√±o fiscal',
                'search-input': 'ÂêçÂâç„Åæ„Åü„ÅØÁ§æÂì°Áï™Âè∑„ÅßÊ§úÁ¥¢ / Buscar por nombre o n√∫mero'
            };

            Object.entries(tooltips).forEach(([id, text]) => {
                const el = document.getElementById(id);
                if (el) {
                    el.setAttribute('data-tooltip', text);
                }
            });

            // Wrap destructive actions with confirmation dialogs
            if (typeof App !== 'undefined' && App.data) {
                // Store original reset methods if they exist
                const originalMethods = {};

                // Wrap any reset/delete methods with confirmation
                const wrapWithConfirmation = (methodName, confirmMessage, dataType) => {
                    if (App.data[methodName] && typeof App.data[methodName] === 'function') {
                        originalMethods[methodName] = App.data[methodName].bind(App.data);
                        App.data[methodName] = async function (...args) {
                            const confirmed = await ConfirmDialog.confirmReset(dataType);
                            if (confirmed) {
                                return originalMethods[methodName](...args);
                            }
                        };
                    }
                };

                // Apply to known destructive methods
                wrapWithConfirmation('resetData', 'todos los datos de vacaciones');
                wrapWithConfirmation('resetGenzai', 'los datos de empleados dispatch');
                wrapWithConfirmation('resetUkeoi', 'los datos de empleados contrato');
            }

            console.log('‚ú® UI Enhancements v2.7 initialized');
        });
    </script>

    <!-- PWA Service Worker Registration & Offline Support -->
    <script type="module">
        import { offlineStorage, NetworkStatusManager } from '/static/js/modules/offline-storage.js';

        // Initialize offline storage globally
        window.offlineStorage = offlineStorage;

        // Service Worker Registration with Enhanced Features
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', async () => {
                try {
                    const registration = await navigator.serviceWorker.register('/static/sw.js');
                    console.log('[PWA] Service Worker registered:', registration.scope);

                    // Check for updates
                    registration.addEventListener('updatefound', () => {
                        const newWorker = registration.installing;
                        console.log('[PWA] New Service Worker installing...');

                        newWorker.addEventListener('statechange', () => {
                            if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {
                                showUpdateToast();
                            }
                        });
                    });

                    // Request background sync permission
                    if ('sync' in registration) {
                        console.log('[PWA] Background Sync supported');
                    }

                    // Request periodic sync permission (if supported)
                    if ('periodicSync' in registration) {
                        try {
                            await registration.periodicSync.register('yukyu-periodic-sync', {
                                minInterval: 24 * 60 * 60 * 1000
                            });
                            console.log('[PWA] Periodic Sync registered');
                        } catch (err) {
                            console.log('[PWA] Periodic Sync not available:', err.message);
                        }
                    }

                } catch (error) {
                    console.error('[PWA] Service Worker registration failed:', error);
                }
            });

            // Listen for messages from Service Worker
            navigator.serviceWorker.addEventListener('message', (event) => {
                const { type, data } = event.data;

                switch (type) {
                    case 'QUEUE_REQUEST':
                        offlineStorage.addPendingLeaveRequest(data);
                        showOfflineQueuedToast();
                        break;

                    case 'SYNC_PENDING':
                        offlineStorage.syncPending();
                        break;

                    case 'CACHE_CLEARED':
                        console.log('[PWA] Cache cleared');
                        break;
                }
            });
        }

        // PWA Install Prompt
        let deferredPrompt = null;
        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            deferredPrompt = e;
            showInstallButton();
            console.log('[PWA] Install prompt available');
        });

        window.addEventListener('appinstalled', () => {
            deferredPrompt = null;
            hideInstallButton();
            console.log('[PWA] App installed successfully');
        });

        // PWA UI Helper Functions
        function showUpdateToast() {
            const toast = document.createElement('div');
            toast.className = 'pwa-update-toast';
            toast.innerHTML = `
                <span>New version available!</span>
                <button data-action="window.reload">Update</button>
            `;
            document.body.appendChild(toast);
            setTimeout(() => toast.classList.add('show'), 100);
        }

        function showOfflineQueuedToast() {
            if (window.App && window.App.showToast) {
                window.App.showToast('info', 'Request queued - will sync when online', 4000);
            }
        }

        function showInstallButton() {
            let btn = document.getElementById('pwa-install-btn');
            if (!btn) {
                btn = document.createElement('button');
                btn.id = 'pwa-install-btn';
                btn.className = 'pwa-install-btn';
                btn.innerHTML = '<span class="install-icon">+</span> Install App';
                btn.onclick = async () => {
                    if (deferredPrompt) {
                        deferredPrompt.prompt();
                        const { outcome } = await deferredPrompt.userChoice;
                        console.log('[PWA] Install prompt result:', outcome);
                        deferredPrompt = null;
                        hideInstallButton();
                    }
                };
                document.body.appendChild(btn);
            }
            btn.style.display = 'flex';
        }

        function hideInstallButton() {
            const btn = document.getElementById('pwa-install-btn');
            if (btn) btn.style.display = 'none';
        }

        // Initialize network status manager (shows online/offline indicator)
        new NetworkStatusManager();

        // Precache API data when online for offline use
        window.addEventListener('load', async () => {
            if (navigator.onLine) {
                try {
                    const year = new Date().getFullYear();
                    const response = await fetch(`/api/employees?year=${year}`);
                    if (response.ok) {
                        const data = await response.json();
                        await offlineStorage.saveEmployees(data.data || [], year);
                        console.log('[PWA] Employees data cached for offline use');
                    }
                } catch (err) {
                    console.log('[PWA] Could not precache employees:', err.message);
                }
            }
        });

        // Listen for sync complete events
        window.addEventListener('yukyu-sync-complete', (e) => {
            const { success, failed } = e.detail;
            if (window.App && window.App.showToast) {
                if (failed === 0) {
                    window.App.showToast('success', `Synced ${success} pending requests`, 4000);
                } else {
                    window.App.showToast('warning', `Synced ${success}, ${failed} failed`, 5000);
                }
            }
        });
    </script>

    <!-- PWA UI Styles -->
    <style>
        /* PWA Install Button */
        .pwa-install-btn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            display: none;
            align-items: center;
            gap: 8px;
            padding: 12px 20px;
            background: linear-gradient(135deg, #06b6d4, #0891b2);
            color: white;
            border: none;
            border-radius: 12px;
            font-weight: 600;
            font-size: 14px;
            cursor: pointer;
            z-index: 9998;
            box-shadow: 0 4px 15px rgba(6, 182, 212, 0.4);
            transition: all 0.3s ease;
        }

        .pwa-install-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(6, 182, 212, 0.5);
        }

        .pwa-install-btn .install-icon {
            font-size: 18px;
            font-weight: 700;
        }

        /* PWA Update Toast */
        .pwa-update-toast {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 20px;
            background: linear-gradient(135deg, #8b5cf6, #7c3aed);
            color: white;
            border-radius: 12px;
            font-weight: 500;
            font-size: 14px;
            z-index: 10001;
            box-shadow: 0 10px 25px rgba(139, 92, 246, 0.4);
            transition: transform 0.3s ease;
        }

        .pwa-update-toast.show {
            transform: translateX(-50%) translateY(0);
        }

        .pwa-update-toast button {
            padding: 6px 12px;
            background: white;
            color: #7c3aed;
            border: none;
            border-radius: 6px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }

        .pwa-update-toast button:hover {
            transform: scale(1.05);
        }

        /* Light mode adjustments for PWA elements */
        [data-theme="light"] .pwa-install-btn {
            box-shadow: 0 4px 15px rgba(6, 182, 212, 0.3);
        }
    </style>

    <!-- Confirmation Modal -->
    <div id="confirm-modal" class="confirm-modal">
        <div class="confirm-modal-content">
            <div class="confirm-modal-title">
                ‚úÖ Áî≥Ë´ãÂÜÖÂÆπ„ÅÆÁ¢∫Ë™ç
            </div>

            <div class="confirm-summary">
                <div class="confirm-row">
                    <span class="confirm-row-label">ÂæìÊ•≠Âì°</span>
                    <span class="confirm-row-value" id="confirm-employee">-</span>
                </div>
                <div class="confirm-row">
                    <span class="confirm-row-label">Â∑•Â†¥</span>
                    <span class="confirm-row-value" id="confirm-factory">-</span>
                </div>
                <div class="confirm-row">
                    <span class="confirm-row-label">ÊúüÈñì</span>
                    <span class="confirm-row-value" id="confirm-dates">-</span>
                </div>
                <div class="confirm-row">
                    <span class="confirm-row-label">Á®ÆÈ°û</span>
                    <span class="confirm-row-value" id="confirm-type">-</span>
                </div>
                <div class="confirm-row">
                    <span class="confirm-row-label">Êó•Êï∞/ÊôÇÈñì</span>
                    <span class="confirm-row-value highlight" id="confirm-amount">-</span>
                </div>
                <div class="confirm-row d-none" id="confirm-cost-row">
                    <span class="confirm-row-label">Ë¶ãÁ©ç„Ç≥„Çπ„Éà</span>
                    <span class="confirm-row-value text-warning" id="confirm-cost">-</span>
                </div>
                <div class="confirm-row">
                    <span class="confirm-row-label">ÊÆã„ÇäÊó•Êï∞</span>
                    <span class="confirm-row-value" id="confirm-balance">-</span>
                </div>
                <div class="confirm-row" id="confirm-reason-row">
                    <span class="confirm-row-label">ÁêÜÁî±</span>
                    <span class="confirm-row-value text-right" id="confirm-reason" class="max-w-200">-</span>
                </div>
            </div>

            <div class="p-md bg-warning-subtle rounded mb-lg text-sm text-warning">
                ‚ö†Ô∏è „Åì„ÅÆÂÜÖÂÆπ„ÅßÁî≥Ë´ã„ÇíÈÄÅ‰ø°„Åó„Åæ„Åô„ÅãÔºü
            </div>

            <div class="confirm-actions">
                <button class="btn btn-glass" data-action="requests.hideConfirmation">
                    ‚Üê Êàª„Çã
                </button>
                <button class="btn btn-primary" id="confirm-submit-btn" data-action="requests.submitConfirmed">
                    üì§ Áî≥Ë´ã„Åô„Çã
                </button>
            </div>
        </div>
    </div>

    <!-- Edit Yukyu Usage Modal (v2.1 - NEW) -->
    <div id="edit-yukyu-modal" class="confirm-modal">
        <div class="confirm-modal-content" class="modal-sm">
            <div class="confirm-modal-title">
                ‚úèÔ∏è ÊúâÁµ¶‰ΩøÁî®„Éá„Éº„Çø„ÇíÁ∑®ÈõÜ
            </div>

            <!-- Employee Info Header -->
            <div class="bg-primary-subtle p-md rounded mb-lg">
                <div class="flex-between">
                    <div>
                        <div id="edit-emp-name" class="font-semibold text-lg">-</div>
                        <div id="edit-emp-num" class="text-muted text-sm">Á§æÂì°Áï™Âè∑: -</div>
                    </div>
                    <div class="text-right">
                        <div class="stat-label">ÁèæÂú®„ÅÆÊÆãÊó•Êï∞</div>
                        <div id="edit-emp-balance" class="text-2xl font-bold text-success">-</div>
                    </div>
                </div>
            </div>

            <!-- Usage Details List -->
            <div class="form-section mb-lg">
                <div class="form-section-title">üìÖ ‰ΩøÁî®Êó•‰∏ÄË¶ß</div>
                <div id="edit-usage-list" class="usage-list-container max-h-300 overflow-y-auto">
                    <div class="text-center text-muted p-lg">
                        ÂæìÊ•≠Âì°„ÇíÈÅ∏Êäû„Åó„Å¶„Åè„Å†„Åï„ÅÑ...
                    </div>
                </div>
            </div>

            <!-- Add New Usage -->
            <div class="form-section mb-lg">
                <div class="form-section-title">‚ûï Êñ∞„Åó„ÅÑ‰ΩøÁî®Êó•„ÇíËøΩÂä†</div>
                <div class="grid grid-cols-3 gap-md">
                    <div class="form-group">
                        <label for="add-use-date">Êó•‰ªò</label>
                        <input type="date" id="add-use-date" class="input-glass w-full">
                    </div>
                    <div class="form-group">
                        <label for="add-days-used">Êó•Êï∞</label>
                        <select id="add-days-used" class="input-glass w-full">
                            <option value="1.0">1Êó• (ÂÖ®Êó•)</option>
                            <option value="0.5">0.5Êó• (ÂçäÊó•)</option>
                            <option value="0.25">0.25Êó• (2ÊôÇÈñì)</option>
                        </select>
                    </div>
                    <div class="form-group" class="flex-align-end">
                        <button class="btn btn-primary w-full" data-action="editYukyu.addUsage">
                            ËøΩÂä†
                        </button>
                    </div>
                </div>
            </div>

            <!-- Summary -->
            <div class="bg-info-subtle p-md rounded mb-lg">
                <div class="flex-between">
                    <span>Â§âÊõ¥Âæå„ÅÆ‰ΩøÁî®Êó•Êï∞:</span>
                    <span id="edit-total-used" class="font-bold">0Êó•</span>
                </div>
                <div class="flex-between mt-sm">
                    <span>Â§âÊõ¥Âæå„ÅÆÊÆãÊó•Êï∞:</span>
                    <span id="edit-new-balance" class="font-bold text-success">0Êó•</span>
                </div>
            </div>

            <div class="confirm-actions">
                <button class="btn btn-glass" data-action="editYukyu.closeModal">
                    „Ç≠„É£„É≥„Çª„É´
                </button>
                <button class="btn btn-secondary" data-action="auditHistory.showEntityHistory" data-entity="employee">
                    üìú Â±•Ê≠¥„ÇíË¶ã„Çã
                </button>
                <button class="btn btn-primary" id="edit-save-btn" data-action="editYukyu.saveChanges">
                    üíæ Â§âÊõ¥„Çí‰øùÂ≠ò
                </button>
            </div>
        </div>
    </div>

    <!-- Audit History Modal (v2.3 - NEW) -->
    <div id="audit-history-modal" class="confirm-modal">
        <div class="confirm-modal-content" class="modal-lg">
            <div class="confirm-modal-title">
                üìú Â§âÊõ¥Â±•Ê≠¥
            </div>

            <div class="bg-primary-subtle p-md rounded mb-lg">
                <div class="flex-between">
                    <div>
                        <div id="audit-entity-info" class="font-semibold">„Ç®„É≥„ÉÜ„Ç£„ÉÜ„Ç£ÊÉÖÂ†±</div>
                    </div>
                    <div>
                        <select id="audit-action-filter" class="input-glass" onchange="App.auditHistory.applyFilter()">
                            <option value="">ÂÖ®„Å¶„ÅÆ„Ç¢„ÇØ„Ç∑„Éß„É≥</option>
                            <option value="CREATE">CREATE</option>
                            <option value="UPDATE">UPDATE</option>
                            <option value="DELETE">DELETE</option>
                            <option value="APPROVE">APPROVE</option>
                            <option value="REJECT">REJECT</option>
                            <option value="REVERT">REVERT</option>
                        </select>
                    </div>
                </div>
            </div>

            <div id="audit-history-list" class="usage-list-container max-h-500">
                <div class="text-center text-muted p-lg">
                    <div class="spinner" class="margin-auto"></div>
                    <p class="mt-md">Â±•Ê≠¥„ÇíË™≠„ÅøËæº„Åø‰∏≠...</p>
                </div>
            </div>

            <div class="confirm-actions">
                <button class="btn btn-glass" data-action="auditHistory.closeModal">
                    Èñâ„Åò„Çã
                </button>
            </div>
        </div>
    </div>

    <!-- Import Result Modal (v2.2 - NEW) -->
    <div id="import-result-modal" class="confirm-modal">
        <div class="confirm-modal-content import-result-content" class="modal-md">
            <div class="confirm-modal-title" id="import-result-title">
                <span id="import-result-icon">üìä</span> „Ç§„É≥„Éù„Éº„ÉàÁµêÊûú
            </div>

            <!-- Status Summary Banner -->
            <div id="import-status-banner" class="import-status-banner import-status-success">
                <div class="import-status-icon">‚úÖ</div>
                <div class="import-status-text">
                    <div class="import-status-title" id="import-status-title">„Ç§„É≥„Éù„Éº„ÉàÂÆå‰∫Ü</div>
                    <div class="import-status-subtitle" id="import-status-subtitle">ÂÖ®„Å¶„ÅÆ„Éá„Éº„Çø„ÅåÊ≠£Â∏∏„Å´Âá¶ÁêÜ„Åï„Çå„Åæ„Åó„Åü</div>
                </div>
            </div>

            <!-- Statistics Grid -->
            <div class="import-stats-grid">
                <div class="import-stat-card import-stat-total">
                    <div class="import-stat-value" id="import-stat-total">0</div>
                    <div class="import-stat-label">Á∑è„É¨„Ç≥„Éº„Éâ</div>
                </div>
                <div class="import-stat-card import-stat-success">
                    <div class="import-stat-value" id="import-stat-success">0</div>
                    <div class="import-stat-label">ÊàêÂäü</div>
                </div>
                <div class="import-stat-card import-stat-warning">
                    <div class="import-stat-value" id="import-stat-warnings">0</div>
                    <div class="import-stat-label">Ë≠¶Âëä</div>
                </div>
                <div class="import-stat-card import-stat-error">
                    <div class="import-stat-value" id="import-stat-errors">0</div>
                    <div class="import-stat-label">„Ç®„É©„Éº</div>
                </div>
            </div>

            <!-- Breakdown Section -->
            <div class="import-breakdown-section" id="import-breakdown-section">
                <div class="form-section-title">üìã Ë©≥Á¥∞ÂÜÖË®≥</div>
                <div class="import-breakdown-grid" id="import-breakdown-grid">
                    <!-- Dynamic content -->
                </div>
            </div>

            <!-- Warnings List (Expandable) -->
            <div class="import-warnings-section" id="import-warnings-section" class="hidden">
                <div class="import-warnings-header" data-action="importReport.toggleWarnings">
                    <span class="form-section-title">‚ö†Ô∏è Ë≠¶Âëä‰∏ÄË¶ß</span>
                    <span class="import-warnings-toggle" id="import-warnings-toggle">‚ñº</span>
                </div>
                <div class="import-warnings-list" id="import-warnings-list" class="hidden">
                    <!-- Warning items will be added dynamically -->
                </div>
            </div>

            <!-- Errors List (Expandable) -->
            <div class="import-errors-section" id="import-errors-section" class="hidden">
                <div class="import-errors-header" data-action="importReport.toggleErrors">
                    <span class="form-section-title">‚ùå „Ç®„É©„Éº‰∏ÄË¶ß</span>
                    <span class="import-errors-toggle" id="import-errors-toggle">‚ñº</span>
                </div>
                <div class="import-errors-list" id="import-errors-list" class="hidden">
                    <!-- Error items will be added dynamically -->
                </div>
            </div>

            <!-- Problematic Employees (Optional) -->
            <div class="import-problems-section" id="import-problems-section" class="hidden">
                <div class="form-section-title">üë§ Ë¶ÅÁ¢∫Ë™çÂæìÊ•≠Âì°</div>
                <div class="import-problems-list" id="import-problems-list">
                    <!-- Problem employee items -->
                </div>
            </div>

            <!-- Action Buttons -->
            <div class="confirm-actions mt-lg">
                <button class="btn btn-glass" data-action="importReport.downloadReport">
                    üì• „É¨„Éù„Éº„Éà„Çí„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ
                </button>
                <button class="btn btn-primary" data-action="importReport.closeModal">
                    ‚úì Èñâ„Åò„Çã
                </button>
            </div>
        </div>
    </div>

    <!-- Bulk Edit Modal (v2.3 - NEW) -->
    <div id="bulk-edit-modal" class="confirm-modal">
        <div class="confirm-modal-content" class="modal-lg">
            <div class="confirm-modal-title">
                <span class="bulk-edit-icon">‚úèÔ∏è</span>
                ‰∏ÄÊã¨Á∑®ÈõÜ (Bulk Edit)
            </div>

            <!-- Selected Employees Count -->
            <div class="bulk-edit-selection-info">
                <div class="bulk-edit-count">
                    <span id="bulk-edit-count">0</span> ÂêçÈÅ∏Êäû‰∏≠
                </div>
                <button class="btn btn-sm btn-glass" data-action="bulkEdit.clearSelection">
                    ÈÅ∏ÊäûËß£Èô§
                </button>
            </div>

            <!-- Selected Employees List (Collapsible) -->
            <div class="bulk-edit-employees-section">
                <div class="bulk-edit-employees-header" data-action="bulkEdit.toggleEmployeeList">
                    <span class="form-section-title">üë• ÈÅ∏Êäû„Åï„Çå„ÅüÂæìÊ•≠Âì°</span>
                    <span class="bulk-edit-toggle" id="bulk-edit-employees-toggle">‚ñº</span>
                </div>
                <div class="bulk-edit-employees-list" id="bulk-edit-employees-list" class="max-h-150">
                    <!-- Employee chips will be added dynamically -->
                </div>
            </div>

            <!-- Edit Fields Section -->
            <div class="bulk-edit-fields-section">
                <div class="form-section-title">üìù Á∑®ÈõÜÂÜÖÂÆπ</div>

                <!-- Add Granted Days -->
                <div class="bulk-edit-field-row">
                    <label class="bulk-edit-checkbox">
                        <input type="checkbox" id="bulk-edit-add-granted-check"
                            onchange="App.bulkEdit.toggleField('add_granted')">
                        <span>‰ªò‰∏éÊó•Êï∞„ÇíËøΩÂä†</span>
                    </label>
                    <div class="bulk-edit-input-group" id="bulk-edit-add-granted-group" class="hidden">
                        <span class="bulk-edit-prefix">+</span>
                        <input type="number" id="bulk-edit-add-granted" class="input-glass" min="0" max="20" step="0.5"
                            placeholder="0">
                        <span class="bulk-edit-suffix">Êó•</span>
                    </div>
                </div>

                <!-- Add Used Days -->
                <div class="bulk-edit-field-row">
                    <label class="bulk-edit-checkbox">
                        <input type="checkbox" id="bulk-edit-add-used-check"
                            onchange="App.bulkEdit.toggleField('add_used')">
                        <span>‰ΩøÁî®Êó•Êï∞„ÇíËøΩÂä†</span>
                    </label>
                    <div class="bulk-edit-input-group" id="bulk-edit-add-used-group" class="hidden">
                        <span class="bulk-edit-prefix">+</span>
                        <input type="number" id="bulk-edit-add-used" class="input-glass" min="0" max="40" step="0.5"
                            placeholder="0">
                        <span class="bulk-edit-suffix">Êó•</span>
                    </div>
                </div>

                <!-- Change Haken (Factory) -->
                <div class="bulk-edit-field-row">
                    <label class="bulk-edit-checkbox">
                        <input type="checkbox" id="bulk-edit-set-haken-check"
                            onchange="App.bulkEdit.toggleField('set_haken')">
                        <span>Ê¥æÈÅ£ÂÖà„ÇíÂ§âÊõ¥</span>
                    </label>
                    <div class="bulk-edit-input-group" id="bulk-edit-set-haken-group" class="hidden">
                        <select id="bulk-edit-set-haken" class="input-glass">
                            <option value="">Ê¥æÈÅ£ÂÖà„ÇíÈÅ∏Êäû...</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- Preview Section -->
            <div class="bulk-edit-preview-section" id="bulk-edit-preview-section" class="hidden">
                <div class="form-section-title">üîç Â§âÊõ¥„Éó„É¨„Éì„É•„Éº</div>
                <div class="bulk-edit-preview-list" id="bulk-edit-preview-list">
                    <!-- Preview items will be added dynamically -->
                </div>
            </div>

            <!-- Warnings Section -->
            <div class="bulk-edit-warnings-section" id="bulk-edit-warnings-section" class="hidden">
                <div class="form-section-title text-warning">‚ö†Ô∏è Ë≠¶Âëä</div>
                <div class="bulk-edit-warnings-list" id="bulk-edit-warnings-list">
                    <!-- Warning items -->
                </div>
            </div>

            <!-- Action Buttons -->
            <div class="confirm-actions mt-lg">
                <button class="btn btn-glass" data-action="bulkEdit.closeModal">
                    „Ç≠„É£„É≥„Çª„É´
                </button>
                <button class="btn btn-info" data-action="bulkEdit.preview">
                    üîç „Éó„É¨„Éì„É•„Éº
                </button>
                <button class="btn btn-primary" id="bulk-edit-apply-btn" data-action="bulkEdit.apply" disabled>
                    ‚úì ÈÅ©Áî®„Åô„Çã
                </button>
            </div>
        </div>
    </div>

    <style>
        /* Bulk Edit Modal Styles (v2.3) */
        .bulk-edit-selection-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem;
            background: rgba(6, 182, 212, 0.1);
            border-radius: 8px;
            margin-bottom: 1rem;
        }

        .bulk-edit-count {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--primary);
        }

        .bulk-edit-count span {
            font-size: 1.5rem;
            color: var(--primary);
        }

        .bulk-edit-employees-section {
            margin-bottom: 1rem;
        }

        .bulk-edit-employees-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
            padding: 0.5rem;
        }

        .bulk-edit-employees-list {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            padding: 0.75rem;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 8px;
        }

        .bulk-edit-employee-chip {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.25rem 0.75rem;
            background: rgba(6, 182, 212, 0.2);
            border: 1px solid rgba(6, 182, 212, 0.3);
            border-radius: 20px;
            font-size: 0.85rem;
        }

        .bulk-edit-employee-chip .remove {
            cursor: pointer;
            opacity: 0.6;
        }

        .bulk-edit-employee-chip .remove:hover {
            opacity: 1;
            color: var(--danger);
        }

        .bulk-edit-fields-section {
            margin-bottom: 1.5rem;
        }

        .bulk-edit-field-row {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0.75rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .bulk-edit-checkbox {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            cursor: pointer;
        }

        .bulk-edit-checkbox input[type="checkbox"] {
            width: 18px;
            height: 18px;
            accent-color: var(--primary);
        }

        .bulk-edit-input-group {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .bulk-edit-input-group input,
        .bulk-edit-input-group select {
            width: 150px;
        }

        .bulk-edit-prefix,
        .bulk-edit-suffix {
            color: var(--text-muted);
            font-size: 0.9rem;
        }

        .bulk-edit-preview-section,
        .bulk-edit-warnings-section {
            margin-top: 1rem;
            padding: 1rem;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 8px;
        }

        .bulk-edit-preview-list {
            max-height: 200px;
            overflow-y: auto;
        }

        .bulk-edit-preview-item {
            display: grid;
            grid-template-columns: 100px 1fr 1fr 1fr;
            gap: 0.5rem;
            padding: 0.5rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            font-size: 0.85rem;
        }

        .bulk-edit-preview-item:last-child {
            border-bottom: none;
        }

        .bulk-edit-preview-header {
            font-weight: 600;
            color: var(--text-muted);
        }

        .bulk-edit-change-arrow {
            color: var(--primary);
        }

        .bulk-edit-warnings-list {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .bulk-edit-warning-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem;
            background: rgba(251, 191, 36, 0.1);
            border-left: 3px solid var(--warning);
            border-radius: 4px;
            font-size: 0.85rem;
        }

        /* Table checkbox column */
        .table-checkbox {
            width: 30px;
            text-align: center;
        }

        .table-checkbox input[type="checkbox"] {
            width: 18px;
            height: 18px;
            accent-color: var(--primary);
            cursor: pointer;
        }

        /* Bulk edit toolbar */
        .bulk-edit-toolbar {
            display: none;
            align-items: center;
            gap: 1rem;
            padding: 0.75rem 1rem;
            background: linear-gradient(135deg, rgba(6, 182, 212, 0.2), rgba(6, 182, 212, 0.1));
            border: 1px solid rgba(6, 182, 212, 0.3);
            border-radius: 8px;
            margin-bottom: 1rem;
        }

        .bulk-edit-toolbar.active {
            display: flex;
        }

        .bulk-edit-toolbar-count {
            font-weight: 600;
            color: var(--primary);
        }

        .bulk-edit-icon {
            margin-right: 0.5rem;
        }
    </style>

    <style>
        /* Import Result Modal Styles (v2.2) */
        .import-result-content {
            padding: 1.5rem;
        }

        .import-status-banner {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem 1.25rem;
            border-radius: 12px;
            margin-bottom: 1.5rem;
        }

        .import-status-success {
            background: rgba(34, 197, 94, 0.15);
            border: 1px solid rgba(34, 197, 94, 0.3);
        }

        .import-status-warning {
            background: rgba(251, 191, 36, 0.15);
            border: 1px solid rgba(251, 191, 36, 0.3);
        }

        .import-status-error {
            background: rgba(239, 68, 68, 0.15);
            border: 1px solid rgba(239, 68, 68, 0.3);
        }

        .import-status-icon {
            font-size: 2rem;
        }

        .import-status-title {
            font-weight: 700;
            font-size: 1.1rem;
            color: var(--text-primary);
        }

        .import-status-subtitle {
            font-size: 0.85rem;
            color: var(--text-muted);
            margin-top: 0.25rem;
        }

        .import-stats-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 0.75rem;
            margin-bottom: 1.5rem;
        }

        .import-stat-card {
            padding: 1rem;
            border-radius: 10px;
            text-align: center;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .import-stat-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        .import-stat-total {
            border-color: rgba(6, 182, 212, 0.3);
        }

        .import-stat-success {
            border-color: rgba(34, 197, 94, 0.3);
        }

        .import-stat-warning {
            border-color: rgba(251, 191, 36, 0.3);
        }

        .import-stat-error {
            border-color: rgba(239, 68, 68, 0.3);
        }

        .import-stat-value {
            font-size: 1.75rem;
            font-weight: 800;
            line-height: 1;
        }

        .import-stat-total .import-stat-value {
            color: var(--primary);
        }

        .import-stat-success .import-stat-value {
            color: var(--success);
        }

        .import-stat-warning .import-stat-value {
            color: var(--warning);
        }

        .import-stat-error .import-stat-value {
            color: var(--danger);
        }

        .import-stat-label {
            font-size: 0.75rem;
            color: var(--text-muted);
            margin-top: 0.5rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .import-breakdown-section {
            margin-bottom: 1.5rem;
        }

        .import-breakdown-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 0.5rem;
            margin-top: 0.75rem;
        }

        .import-breakdown-item {
            display: flex;
            justify-content: space-between;
            padding: 0.5rem 0.75rem;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 6px;
            font-size: 0.875rem;
        }

        .import-breakdown-label {
            color: var(--text-secondary);
        }

        .import-breakdown-value {
            font-weight: 600;
            color: var(--text-primary);
        }

        .import-warnings-section,
        .import-errors-section {
            margin-bottom: 1rem;
        }

        .import-warnings-header,
        .import-errors-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.75rem 1rem;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            cursor: pointer;
            transition: background 0.2s;
        }

        .import-warnings-header:hover,
        .import-errors-header:hover {
            background: rgba(255, 255, 255, 0.08);
        }

        .import-warnings-header .form-section-title,
        .import-errors-header .form-section-title {
            margin: 0;
        }

        .import-warnings-toggle,
        .import-errors-toggle {
            transition: transform 0.3s;
        }

        .import-warnings-toggle.expanded,
        .import-errors-toggle.expanded {
            transform: rotate(180deg);
        }

        .import-warnings-list,
        .import-errors-list {
            margin-top: 0.5rem;
            max-height: 200px;
            overflow-y: auto;
            border-radius: 8px;
            background: rgba(0, 0, 0, 0.2);
        }

        .import-warning-item,
        .import-error-item {
            padding: 0.75rem 1rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            font-size: 0.85rem;
            display: flex;
            align-items: flex-start;
            gap: 0.75rem;
        }

        .import-warning-item:last-child,
        .import-error-item:last-child {
            border-bottom: none;
        }

        .import-warning-item {
            color: var(--warning);
        }

        .import-error-item {
            color: var(--danger);
        }

        .import-warning-item .item-icon,
        .import-error-item .item-icon {
            flex-shrink: 0;
        }

        .import-warning-item .item-text,
        .import-error-item .item-text {
            flex: 1;
        }

        .import-warning-item .item-row,
        .import-error-item .item-row {
            font-size: 0.75rem;
            opacity: 0.7;
            margin-left: auto;
        }

        .import-problems-section {
            margin-bottom: 1rem;
        }

        .import-problems-list {
            display: grid;
            gap: 0.5rem;
            margin-top: 0.75rem;
        }

        .import-problem-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.75rem 1rem;
            background: rgba(248, 113, 113, 0.1);
            border: 1px solid rgba(248, 113, 113, 0.2);
            border-radius: 8px;
            font-size: 0.875rem;
        }

        .import-problem-employee {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .import-problem-name {
            font-weight: 600;
        }

        .import-problem-num {
            color: var(--text-muted);
            font-size: 0.8rem;
        }

        .import-problem-issue {
            color: var(--danger);
            font-weight: 500;
        }

        .import-problem-action {
            font-size: 0.75rem;
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
            background: var(--danger);
            color: white;
            cursor: pointer;
            border: none;
        }

        .import-problem-action:hover {
            filter: brightness(1.1);
        }

        /* Light theme adjustments */
        [data-theme="light"] .import-stat-card {
            background: rgba(0, 0, 0, 0.03);
            border-color: rgba(0, 0, 0, 0.1);
        }

        [data-theme="light"] .import-warnings-list,
        [data-theme="light"] .import-errors-list {
            background: rgba(0, 0, 0, 0.05);
        }

        [data-theme="light"] .import-warning-item,
        [data-theme="light"] .import-error-item {
            border-color: rgba(0, 0, 0, 0.05);
        }

        /* Responsive */
        @media (max-width: 640px) {
            .import-stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .import-breakdown-grid {
                grid-template-columns: 1fr;
            }

            .import-result-content {
                padding: 1rem;
            }
        }
    </style>

    <style>
        /* Edit Yukyu Modal Styles */
        .usage-list-container {
            border: 1px solid var(--border-color);
            border-radius: var(--radius-md);
            background: var(--bg-secondary);
        }

        .usage-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.75rem 1rem;
            border-bottom: 1px solid var(--border-color);
            transition: background 0.2s;
        }

        .usage-item:last-child {
            border-bottom: none;
        }

        .usage-item:hover {
            background: var(--bg-hover);
        }

        .usage-item-date {
            font-weight: 500;
        }

        .usage-item-days {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .usage-item-days select {
            width: 120px;
            padding: 0.25rem 0.5rem;
            font-size: 0.875rem;
        }

        .usage-item-delete {
            background: var(--danger);
            color: white;
            border: none;
            border-radius: var(--radius-sm);
            padding: 0.25rem 0.5rem;
            cursor: pointer;
            font-size: 0.75rem;
        }

        .usage-item-delete:hover {
            background: var(--danger-dark);
        }

        .usage-item.pending-delete {
            background: rgba(239, 68, 68, 0.1);
            text-decoration: line-through;
            opacity: 0.6;
        }

        .usage-item.pending-add {
            background: rgba(34, 197, 94, 0.1);
        }

        .usage-item.pending-update {
            background: rgba(59, 130, 246, 0.1);
        }
    </style>

    </style>


    <!-- Login Modal -->
    <!-- Login Modal -->
    <div class="modal-overlay" id="login-modal" role="dialog" aria-modal="true" aria-labelledby="login-modal-title">
        <div class="modal-container glass-panel" style="max-width: 400px;">
            <button class="modal-close" onclick="document.getElementById('login-modal').classList.remove('active')"
                aria-label="Close modal">‚úï</button>
            <div class="modal-body">
                <div class="modal-header"
                    style="background: transparent; padding: 0; justify-content: center; margin-bottom: 2rem;">
                    <h2 id="login-modal-title" class="text-gradient title-xl">Login</h2>
                </div>
                <form id="login-form">
                    <div class="form-group mb-lg">
                        <label for="login-username" class="form-label">Username</label>
                        <input type="text" id="login-username" name="username" class="form-control" required
                            autocomplete="username">
                    </div>
                    <div class="form-group mb-lg">
                        <label for="login-password" class="form-label">Password</label>
                        <input type="password" id="login-password" name="password" class="form-control" required
                            autocomplete="current-password">
                    </div>
                    <div class="alert alert-error" id="login-error" style="display: none;">
                        Invalid credentials
                    </div>
                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary btn-block shadow-glow">
                            <span class="btn-text">Log In</span>
                            <span class="btn-spinner d-none"></span>
                        </button>
                    </div>
                    <!-- Credenciales de desarrollo se muestran en la consola del servidor cuando DEBUG=true -->
                    <div class="dev-credentials mt-lg" id="dev-creds" style="display: none;">
                        <p>Development Mode</p>
                        <code id="dev-creds-info">Check server console for credentials</code>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Main Application Logic -->
    <script src="/static/js/app.js"></script>
</body>

</html>
# YuKyuDATA Security Configuration
# Copy this file to .env and fill in the values

# ============================================
# ENVIRONMENT
# ============================================
DEBUG=false
TESTING=false
ENVIRONMENT=production

# ============================================
# JWT & AUTHENTICATION
# ============================================
# Generate a strong secret key: python -c "import secrets; print(secrets.token_urlsafe(32))"
JWT_SECRET_KEY=your-super-secret-key-change-this-in-production-min-32-chars
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24
JWT_REFRESH_EXPIRATION_DAYS=30

# ============================================
# DATABASE - SQLite (Default/Development)
# ============================================
DATABASE_TYPE=sqlite
DATABASE_URL=sqlite:///./yukyu.db

# ============================================
# DATABASE - PostgreSQL (Production/FASE 3)
# ============================================
# Uncomment and configure for PostgreSQL migration
# DATABASE_TYPE=postgresql
# DATABASE_URL=postgresql+psycopg2://yukyu_user:password@localhost:5432/yukyu
# For Docker: postgresql+psycopg2://yukyu_user:password@postgres-primary:5432/yukyu

# PostgreSQL Connection Pool Configuration
DB_POOL_SIZE=10                 # Minimum connections in pool
DB_MAX_OVERFLOW=20              # Maximum overflow connections
DB_POOL_TIMEOUT=30              # Connection timeout in seconds
DB_POOL_RECYCLE=3600            # Recycle connections after 1 hour

# PostgreSQL Read Replica (for analytics)
# DATABASE_REPLICA_URL=postgresql+psycopg2://yukyu_user:password@postgres-replica:5432/yukyu
# REPLICA_ENABLED=false

# Database encryption key (32 bytes in hex)
# Generate: python -c "import secrets; print(secrets.token_hex(32))"
DATABASE_ENCRYPTION_KEY=00000000000000000000000000000000

# ============================================
# BACKUP & PITR (Point-in-Time Recovery)
# ============================================
BACKUP_ENABLED=false
BACKUP_INTERVAL=3600            # Hourly backups (seconds)
BACKUP_RETENTION_DAYS=7         # Keep 7 days of backups
BACKUP_COMPRESSION=gzip         # gzip or none
BACKUP_DIRECTORY=./backups
WAL_ARCHIVING_ENABLED=false     # Enable WAL archiving for PITR

# ============================================
# API SECURITY
# ============================================
API_KEY=your-api-key-here
API_KEY_ROTATION_DAYS=90

# Rate limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW_SECONDS=60

# ============================================
# CORS
# ============================================
CORS_ORIGINS=http://localhost:3000,http://localhost:8000

# ============================================
# SSL/TLS
# ============================================
SSL_ENABLED=false
# SSL_CERT_FILE=/etc/ssl/certs/yukyu.crt
# SSL_KEYFILE=/etc/ssl/private/yukyu.key

# ============================================
# ENCRYPTION
# ============================================
# AES-256 key (64 hex chars = 32 bytes)
# Generate: python -c "import secrets; print(secrets.token_hex(32))"
ENCRYPTION_KEY=0000000000000000000000000000000000000000000000000000000000000000

# ============================================
# LOGGING
# ============================================
LOG_LEVEL=INFO
LOG_FORMAT=json

# ============================================
# MONITORING & OBSERVABILITY
# ============================================
SENTRY_DSN=
ELASTICSEARCH_ENABLED=false
ELASTICSEARCH_HOST=localhost:9200
ELASTICSEARCH_USER=elastic
ELASTICSEARCH_PASSWORD=

# ============================================
# REDIS CACHE
# ============================================
REDIS_URL=redis://localhost:6379/0
REDIS_PASSWORD=

# ============================================
# MFA (Multi-Factor Authentication)
# ============================================
MFA_ENABLED=false
MFA_ISSUER=YuKyuDATA
TOTP_WINDOW_SIZE=1

# ============================================
# SECRETS MANAGER (AWS or HashiCorp Vault)
# ============================================
# AWS Secrets Manager
AWS_SECRETS_MANAGER_ENABLED=false
AWS_REGION=ap-northeast-1
AWS_SECRETS_PREFIX=yukyu

# HashiCorp Vault
VAULT_ENABLED=false
# VAULT_ADDR=https://vault.example.com
# VAULT_TOKEN=hvs.xxxxxx
VAULT_PATH=secret/data/yukyu

# ============================================
# COMPLIANCE & DATA RETENTION
# ============================================
GDPR_ENABLED=true
GDPR_DATA_RETENTION_DAYS=32850
GDPR_AUDIT_RETENTION_DAYS=1095

LGPD_ENABLED=true
PII_ENCRYPTION_REQUIRED=true

# ============================================
# GITHUB INTEGRATION
# ============================================
# Personal Access Token para GitHub API
# Generar en: https://github.com/settings/tokens
# Permisos necesarios: repo (para repos privados) o public_repo (para publicos)
GITHUB_TOKEN=ghp_your_token_here

# Repositorio en formato owner/repo
GITHUB_REPO=jokken79/YuKyuDATA-app1.0v
